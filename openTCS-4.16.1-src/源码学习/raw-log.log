============================开始启动============================
> Task :openTCS-Kernel:RunKernel.main()
[20191210-11:16:25-865] INFO    main                 o.o.util.Environment.logSystemInfo()                   : openTCS baseline version: 4.16.1-SNAPSHOT (build date: 2019-12-03 18:57:43), customization '-' version - (build date: -), Java: 1.8.0_191, Oracle Corporation; JVM: 25.191-b12, Oracle Corporation; OS: Mac OS X, x86_64
[20191210-11:16:26-022] INFO    main                 o.o.c.cfg4j.Cfg4jConfigurationBindingProvider.buildSource(): Using default configuration file /Users/rico/AnypointStudio/workspace/Git/Laurus/openTCS/openTCS-4.16.1-src/openTCS-Kernel/build/install/openTCS-Kernel/config/opentcs-kernel-defaults-baseline.properties...
[20191210-11:16:26-142] WARNING main                 o.o.c.cfg4j.Cfg4jConfigurationBindingProvider.buildSource(): Supplementary configuration file /Users/rico/AnypointStudio/workspace/Git/Laurus/openTCS/openTCS-4.16.1-src/openTCS-Kernel/build/install/openTCS-Kernel/config/opentcs-kernel-defaults-custom.properties not found, skipped.
[20191210-11:16:26-143] INFO    main                 o.o.c.cfg4j.Cfg4jConfigurationBindingProvider.buildSource(): Using overrides from supplementary configuration file /Users/rico/AnypointStudio/workspace/Git/Laurus/openTCS/openTCS-4.16.1-src/openTCS-Kernel/build/install/openTCS-Kernel/config/opentcs-kernel.properties...
[20191210-11:16:26-156] INFO    main                 o.c.provider.ConfigurationProviderBuilder.build()      : Initializing ConfigurationProvider with org.opentcs.configuration.cfg4j.CachedConfigurationSource source, org.opentcs.configuration.cfg4j.PeriodicalReloadStrategy reload strategy and org.cfg4j.source.context.environment.DefaultEnvironment environment
[20191210-11:16:26-161] FINE    PeriodicalReloadStrategy-reloadThread o.o.util.CyclicTask.run()                              : [[CyclicTask.run]]开始执行任务org.opentcs.configuration.cfg4j.PeriodicalReloadStrategy$ReloadTask
[20191210-11:16:26-198] INFO    main                 o.o.kernel.RunKernel.findRegisteredModules()           : Integrating injection module org.opentcs.kernel.extensions.controlcenter.ControlCenterModule
[20191210-11:16:26-203] INFO    main                 o.o.kernel.RunKernel.findRegisteredModules()           : Integrating injection module org.opentcs.virtualvehicle.LoopbackCommAdapterModule
[20191210-11:16:26-209] INFO    main                 o.o.kernel.RunKernel.findRegisteredModules()           : Integrating injection module org.opentcs.kernel.extensions.adminwebapi.AdminWebApiModule
[20191210-11:16:26-213] INFO    main                 o.o.kernel.RunKernel.findRegisteredModules()           : Integrating injection module org.opentcs.kernel.extensions.servicewebapi.ServiceWebApiModule
[20191210-11:16:26-216] INFO    main                 o.o.kernel.RunKernel.findRegisteredModules()           : Integrating injection module org.opentcs.kernel.extensions.rmi.RmiServicesModule
[20191210-11:16:26-219] INFO    main                 o.o.kernel.RunKernel.findRegisteredModules()           : Integrating injection module org.opentcs.kernel.extensions.statistics.StatisticsModule
[20191210-11:16:26-223] INFO    main                 o.o.kernel.RunKernel.findRegisteredModules()           : Integrating injection module org.opentcs.kernel.extensions.xmlhost.TcpHostInterfaceModule
[20191210-11:16:27-882] INFO    main                 o.o.k.e.controlcenter.ControlCenterModule.configure()  : Control center disabled by configuration.
[20191210-11:16:27-991] WARNING main                 o.o.k.e.rmi.RmiServicesModule.configure()              : SSL encryption disabled, connections will not be secured!
[20191210-11:16:30-057] INFO    main                 o.o.k.vehicles.VehicleCommAdapterRegistry.<init>()     : Setting up communication adapter factory: org.opentcs.virtualvehicle.LoopbackCommunicationAdapterFactory
[20191210-11:16:30-072] FINE    main                 o.o.s.b.d.s.vehicles.CompositeVehicleSelectionFilter.<init>(): 【CompositeVehicleSelectionFilter】初始化组合小车选择过滤器，注入filters为[[]]
[20191210-11:16:30-216] INFO    Thread-1             o.e.j.u.log.Log.initialized()                          : Logging initialized @4575ms to org.eclipse.jetty.util.log.Slf4jLog
[20191210-11:16:30-380] INFO    Thread-1             s.e.jetty.EmbeddedJettyServer.ignite()                 : == Spark has ignited ...
[20191210-11:16:30-381] INFO    Thread-1             s.e.jetty.EmbeddedJettyServer.ignite()                 : >> Listening on 127.0.0.1:55100
[20191210-11:16:30-393] INFO    Thread-1             o.e.j.server.Server.doStart()                          : jetty-9.4.6.v20170531
[20191210-11:16:30-471] INFO    Thread-1             o.e.j.s.session.DefaultSessionIdManager.doStart()      : DefaultSessionIdManager workerName=node0
[20191210-11:16:30-472] INFO    Thread-1             o.e.j.s.session.DefaultSessionIdManager.doStart()      : No SessionScavenger set, using defaults
[20191210-11:16:30-483] INFO    Thread-1             o.e.j.s.session.HouseKeeper.startScavenging()          : Scavenging every 600000ms
[20191210-11:16:30-536] INFO    Thread-1             o.e.j.server.AbstractConnector.doStart()               : Started ServerConnector@318917ff{HTTP/1.1,[http/1.1]}{127.0.0.1:55100}
[20191210-11:16:30-536] INFO    Thread-1             o.e.j.server.Server.doStart()                          : Started @4896ms
[20191210-11:16:31-424] INFO    main                 o.o.kernel.StandardKernel.setState()                   : Switching kernel to state 'MODELLING'
[20191210-11:16:31-819] FINE    main                 o.o.k.services.StandardPlantModelService.emitModelEvent(): Emitting model transition event: TCSModelTransitionEvent{oldModelName=, newModelName=demo-1-vehicle, modelContentChanged=true, transitionFinished=false}
[20191210-11:16:31-989] FINE    main                 o.o.k.services.StandardPlantModelService.emitModelEvent(): Emitting model transition event: TCSModelTransitionEvent{oldModelName=, newModelName=demo-1-vehicle, modelContentChanged=true, transitionFinished=true}
[20191210-11:16:31-989] INFO    main                 o.o.kernel.KernelStarter.startKernel()                 : Loaded model named 'demo-1-vehicle'.
[20191210-11:16:31-989] INFO    main                 o.o.kernel.StandardKernel.setState()                   : Switching kernel to state 'OPERATING'
[20191210-11:16:31-992] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing operating state...
[20191210-11:16:31-993] FINE    main                 o.o.kernel.KernelStateOperating.setVehicleProcState()  : Updating procState of vehicle Vehicle-01 to UNAVAILABLE...
[20191210-11:16:31-994] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing scheduler 'org.opentcs.strategies.basic.scheduling.DefaultScheduler@49c6c24f'...
[20191210-11:16:31-994] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing router 'org.opentcs.strategies.basic.routing.DefaultRouter@6fe1b4fb'...
[20191210-11:16:32-066] FINE    main                 o.o.s.b.r.jgrapht.ShortestPathPointRouter.getRouteSteps(): Looking up route from Point-0013 to Point-0012 took 17 milliseconds.
[20191210-11:16:32-066] FINE    main                 o.o.s.b.r.jgrapht.AbstractPointRouterFactory.createPointRouter(): Created point router for Vehicle-01 in 71 milliseconds.
[20191210-11:16:32-067] FINE    main                 o.o.s.b.routing.DefaultRouter.updateRoutingTables()    : Number of point routers created: 1
[20191210-11:16:32-067] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing dispatcher 'org.opentcs.strategies.basic.dispatching.DefaultDispatcher@51972dc7'...
[20191210-11:16:32-067] FINE    main                 o.o.s.b.dispatching.DefaultDispatcher.initialize()     : Initializing Default Dispatcher...
[20191210-11:16:32-068] FINE    main                 o.o.s.b.dispatching.DefaultDispatcher.initialize()     : Scheduling periodic dispatch task with interval of 1000000000 ms...
[20191210-11:16:32-069] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing recovery evaluator 'org.opentcs.strategies.basic.recovery.DefaultRecoveryEvaluator@2002348'...
[20191210-11:16:32-069] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing vehicle controller pool 'org.opentcs.kernel.vehicles.DefaultVehicleControllerPool@5911e990'...
[20191210-11:16:32-069] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing attachment manager 'org.opentcs.kernel.extensions.controlcenter.vehicles.AttachmentManager@31000e60'...
[20191210-11:16:32-084] FINE    main                 o.o.k.vehicles.DefaultVehicleControllerPool.detachVehicleController(): Detaching controller for vehicle Vehicle-01...
[20191210-11:16:32-085] FINE    main                 o.o.k.vehicles.DefaultVehicleControllerPool.detachVehicleController(): A vehicle named 'Vehicle-01' is not attached to a controller.
[20191210-11:16:35-187] FINE    main                 o.o.k.vehicles.DefaultVehicleController.setVehiclePosition(): Vehicle-01: Reported new position null and we do not have a drive order.
[20191210-11:16:35-187] FINE    main                 o.o.s.b.scheduling.DefaultScheduler.freeAll()          : Vehicle-01: Releasing all resources
[20191210-11:16:35-188] FINE    main                 o.o.s.b.scheduling.DefaultScheduler.freeAll()          : 小车控制器Vehicle-01请求: Releasing all resources
[20191210-11:16:35-188] FINE    main                 o.o.s.b.scheduling.ReservationPool.freeAll()           : 【scheduling.ReservationPool.freeAll】预留池即将为[DefaultVehicleController{vehicleName=Vehicle-01}]释放资源[{}] (即释放本客户之前所占用的资源)
[20191210-11:16:35-190] FINE    main                 o.o.s.b.scheduling.DefaultScheduler.freeAll()          : 小车控制器Vehicle-01占用资源已被释放，即将新建并执行AllocatorTask任务
[20191210-11:16:35-193] FINE    main                 o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@6cbcf243
[20191210-11:16:35-193] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@6cbcf243
[20191210-11:16:35-193] FINE    main                 o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point null.
[20191210-11:16:35-194] FINE    main                 o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 null.
[20191210-11:16:35-204] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing script file manager 'org.opentcs.kernel.extensions.xmlhost.orders.ScriptFileManager@3234f74e'...
[20191210-11:16:35-205] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing kernel extension 'org.opentcs.kernel.extensions.servicewebapi.ServiceWebApi@35f26e72'...
[20191210-11:16:35-206] WARNING main                 o.o.k.e.servicewebapi.ServiceWebApi.initialize()       : Encryption disabled, connections will not be secured!
[20191210-11:16:35-223] INFO    Thread-10            s.e.jetty.EmbeddedJettyServer.ignite()                 : == Spark has ignited ...
[20191210-11:16:35-223] INFO    Thread-10            s.e.jetty.EmbeddedJettyServer.ignite()                 : >> Listening on 0.0.0.0:55200
[20191210-11:16:35-224] INFO    Thread-10            o.e.j.server.Server.doStart()                          : jetty-9.4.6.v20170531
[20191210-11:16:35-229] INFO    Thread-10            o.e.j.s.session.DefaultSessionIdManager.doStart()      : DefaultSessionIdManager workerName=node0
[20191210-11:16:35-229] INFO    Thread-10            o.e.j.s.session.DefaultSessionIdManager.doStart()      : No SessionScavenger set, using defaults
[20191210-11:16:35-229] INFO    Thread-10            o.e.j.s.session.HouseKeeper.startScavenging()          : Scavenging every 600000ms
[20191210-11:16:35-231] INFO    Thread-10            o.e.j.server.AbstractConnector.doStart()               : Started ServerConnector@1d06964d{HTTP/1.1,[http/1.1]}{0.0.0.0:55200}
[20191210-11:16:35-231] INFO    Thread-10            o.e.j.server.Server.doStart()                          : Started @9591ms
[20191210-11:16:35-233] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing kernel extension 'org.opentcs.kernel.extensions.statistics.StatisticsCollector@2d6764b2'...
[20191210-11:16:35-234] INFO    main                 o.o.k.e.statistics.StatisticsCollector.initialize()    : Logging events to /Users/rico/AnypointStudio/workspace/Git/Laurus/openTCS/openTCS-4.16.1-src/openTCS-Kernel/build/install/openTCS-Kernel/log/statistics/opentcs-statistics-20191210-111635.txt...
[20191210-11:16:35-236] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Initializing kernel extension 'org.opentcs.kernel.extensions.xmlhost.orders.XMLTelegramOrderReceiver@67304a40'...
[20191210-11:16:35-236] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Finished initializing kernel extensions.
[20191210-11:16:35-236] FINE    main                 o.o.kernel.KernelStateOperating.initialize()           : Operating state initialized.

============================启动完成============================


============================激活LoopbackCommunicationAdapter============================


[20191210-11:18:00-798] FINE    kernelExecutor       o.o.virtualvehicle.LoopbackCommunicationAdapter.enable(): 【LoopbackCommunicationAdapter】[Vehicle-01-simulationTask任务线程] 将被激活
[20191210-11:18:00-798] FINE    Vehicle-01-simulationTask o.o.util.CyclicTask.run()                              : [[CyclicTask.run]]开始执行任务org.opentcs.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask
[20191210-11:18:00-798] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enable()         : 【BasicVehicleCommAdapter】[Vehicle-01-commandDispatcher任务线程] 将被激活
[20191210-11:18:00-799] FINE    Vehicle-01-commandDispatcher o.o.util.CyclicTask.run()                              : [[CyclicTask.run]]开始执行任务org.opentcs.drivers.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask


============================完成激活LoopbackCommunicationAdapter============================
============================设置Vehicle-01 Position============================

[20191210-11:18:26-562] FINE    kernelExecutor       o.o.virtualvehicle.LoopbackCommunicationAdapter.lambda$initVehiclePosition$0(): 驱动Vehicle-01将执行小车Vehicle-01位置初始化Point-0001
[20191210-11:18:26-564] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.setVehiclePosition(): Vehicle-01: Reported new position Point{id=0, name=Point-0001} and we do not have a drive order.
[20191210-11:18:26-564] FINE    kernelExecutor       o.o.s.b.scheduling.DefaultScheduler.freeAll()          : Vehicle-01: Releasing all resources
[20191210-11:18:26-565] FINE    kernelExecutor       o.o.s.b.scheduling.DefaultScheduler.freeAll()          : 小车控制器Vehicle-01请求: Releasing all resources
[20191210-11:18:26-565] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationPool.freeAll()           : 【scheduling.ReservationPool.freeAll】预留池即将为[DefaultVehicleController{vehicleName=Vehicle-01}]释放资源[{}] (即释放本客户之前所占用的资源)
[20191210-11:18:26-565] FINE    kernelExecutor       o.o.s.b.scheduling.DefaultScheduler.freeAll()          : 小车控制器Vehicle-01占用资源已被释放，即将新建并执行AllocatorTask任务
[20191210-11:18:26-566] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@4cfe6cb6
[20191210-11:18:26-566] FINE    kernelExecutor       o.o.s.b.scheduling.DefaultScheduler.allocateNow()      : Vehicle-01: Allocating immediately: [Point{id=0, name=Point-0001}]
[20191210-11:18:26-567] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=0, name=Point-0001} for client Vehicle-01
[20191210-11:18:26-567] FINE    kernelExecutor       o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=0, name=Point-0001}.
[20191210-11:18:26-567] FINE    kernelExecutor       o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0001.
[20191210-11:18:26-577] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@4cfe6cb6

============================设置完成Vehicle-01 Position============================
============================设置Vehicle-01集成度为TO_BE_UTILIZED============================
[20191210-11:19:05-183] FINE    kernelExecutor       o.o.k.services.StandardVehicleService.updateVehicleProcState(): Updating procState of vehicle Vehicle-01 to IDLE...
[20191210-11:19:05-184] FINE    kernelExecutor       o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): 【ImplicitDispatchTrigger】::: 监听到小车信息变更事件，并且小车满足可调度条件
[20191210-11:19:05-184] FINE    kernelExecutor       o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): 【ImplicitDispatchTrigger】::: 触发dispatcher.dispatch()方法，执行全局调度操作
[20191210-11:19:05-184] FINE    kernelExecutor       o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): Dispatching for Vehicle{name=Vehicle-01, procState=IDLE, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=0, name=Point-0001}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[], length=1000, adapterState=UNKNOWN, transportOrder=null, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}...
[20191210-11:19:05-185] FINE    kernelExecutor       o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : 【DefaultDispatcher】:::全局调度器DefaultDispatcher.dispatch调用开始
[20191210-11:19:05-185] FINE    kernelExecutor       o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : Scheduling dispatch task...
[20191210-11:19:05-185] FINE    kernelExecutor       o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : 【DefaultDispatcher】:::全局调度器DefaultDispatcher.dispatch调用结束
[20191210-11:19:05-186] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : ==============开始 FullDispatchTask.run ==============
[20191210-11:19:05-186] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 触发调度器的FullDispatchTask，执行任务分配：：：
[20191210-11:19:05-186] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : Starting full dispatch run...
[20191210-11:19:05-187] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 1、检查RAW状态的订单，调整为: UNROUTABLE(router判定无法路由), ACTIVE（可路由）, DISPATCHABLE(没有其他未完成的依赖任务)
[20191210-11:19:05-190] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 2、处理AWAITING_ORDER的小车。如果小车身上存在WITHDRAWN的运单，则将小车(是否需要disable,需要则UNAVAILABLE否则IDLE)及运单状态(fail)做相应调整
[20191210-11:19:05-193] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 3、分配下一个DriveOrder给AWAITING_ORDER的小车。checkForNextDriveOrder根据小车身上的TransportOrder.getCurrentDriveOrder()判断小车当前运单完成情况及是否需要分配下一个DriveOrder
[20191210-11:19:05-196] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 4、根据order sequences分配下一个运单给小车。Assigns vehicles to the next transport orders in their respective order sequences, if any.
[20191210-11:19:05-197] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 5、分配订单给小车，首先分配已预订的订单，然后分配自由订单。Assignment of orders to vehicles.Default: Assigns reserved and then free orders to vehicles.
[20191210-11:19:05-198] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.assignOrders()    : 5.1、分配已被预定的订单给小车。Assigns reserved transport orders (if any) to vehicles that have just finished their withdrawn ones.
[20191210-11:19:05-209] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.assignOrders()    : 5.2、分配订单给当前没有renew任务的小车。Assigns transport orders to vehicles that are currently not processing any and are not bound to any order sequences.
[20191210-11:19:05-209] FINE    kernelExecutor       o.o.s.b.d.s.vehicles.IsAvailableForAnyOrder.test()     : 检查Vehicle-01小车是否可用(TO_BE_UTILIZED && 当前点位不为空&&没有OrderSequence&&电量部位紧急状态&&不需要继续充电(对于正在充电的小车)&&【不在处理订单||正在处理的订单可有可无DispensableOrder】)&&未被其他订单预定
[20191210-11:19:05-214] FINE    kernelExecutor       o.o.s.b.d.s.vehicles.CompositeVehicleSelectionFilter.apply(): 【CompositeVehicleSelectionFilter组合过滤器】对Vehicle-01执行过滤条件[]
[20191210-11:19:05-217] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsAvailableForAnyOrder.CompositeVehicleSelectionFilter(组合过滤器默认为空)】做完小车过滤，过滤结果:Map<Boolean, List<VehicleFilterResult>> = {false=[], true=[org.opentcs.strategies.basic.dispatching.phase.VehicleFilterResult@6799796]}
[20191210-11:19:05-218] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.vehiclesSplitByFilter.collect】收集过滤结果，获取到availableVehicles:[Vehicle{name=Vehicle-01, procState=IDLE, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=0, name=Point-0001}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[], length=1000, adapterState=UNKNOWN, transportOrder=null, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}]
[20191210-11:19:05-219] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsAvailableForAnyOrder.CompositeVehicleSelectionFilter(组合过滤器默认为空)】做完小车过滤，获取到availableVehicles:[Vehicle{name=Vehicle-01, procState=IDLE, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=0, name=Point-0001}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[], length=1000, adapterState=UNKNOWN, transportOrder=null, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}]
[20191210-11:19:05-220] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsFreelyDispatchableToAnyVehicle.CompositeTransportOrderSelectionFilter(组合过滤器默认为空)】做完订单过滤，过滤结果:Map<Boolean, List<OrderFilterResult>> = {false=[], true=[]}
[20191210-11:19:05-222] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run】做完订单过滤，获取到availableOrders:[]
[20191210-11:19:05-222] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run】开始执行分配tryAssignments
[20191210-11:19:05-223] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignments(): Available for dispatching: 0 transport orders and 1 vehicles.
[20191210-11:19:05-224] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignments(): 【AssignFreeOrderPhase.run.tryAssignments】[可用的小车数量]>[可分配自由订单数量]的情况下:所有[可分配自由订单]->小车排序->tryAssignVehicle
[20191210-11:19:05-227] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 6、Recharging of vehicles.Default: Sends idle vehicles with a degraded energy level to recharge locations.
[20191210-11:19:05-228] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.rechargeVehicles(): 6.1、新建充电订单给Creates recharging orders for any vehicles with a degraded energy level.
[20191210-11:19:05-228] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 7、Parking of vehicles.Default: Sends idle vehicles to parking positions.
[20191210-11:19:05-228] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.1、Creates parking orders for idle vehicles already at a parking position to send them to higher prioritized parking positions.
[20191210-11:19:05-229] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.2、Creates parking orders for idle vehicles not already at a parking position considering only prioritized parking positions.
[20191210-11:19:05-229] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.3、Creates parking orders for idle vehicles not already at a parking position considering all parking positions.
[20191210-11:19:05-230] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : Finished full dispatch run.
[20191210-11:19:05-230] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : ==============结束 FullDispatchTask.run ==============

============================设置完成Vehicle-01集成度为TO_BE_UTILIZED============================



============================新增运单============================

[20191210-11:19:51-357] FINE    kernelExecutor       o.o.k.services.StandardDispatcherService.dispatch()    : 【StandardDispatcherService】调用 dispatcher.dispatch()
[20191210-11:19:51-358] FINE    kernelExecutor       o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : 【DefaultDispatcher】:::全局调度器DefaultDispatcher.dispatch调用开始
[20191210-11:19:51-358] FINE    kernelExecutor       o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : Scheduling dispatch task...
[20191210-11:19:51-358] FINE    kernelExecutor       o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : 【DefaultDispatcher】:::全局调度器DefaultDispatcher.dispatch调用结束
[20191210-11:19:51-359] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : ==============开始 FullDispatchTask.run ==============
[20191210-11:19:51-359] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 触发调度器的FullDispatchTask，执行任务分配：：：
[20191210-11:19:51-359] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : Starting full dispatch run...
[20191210-11:19:51-360] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 1、检查RAW状态的订单，调整为: UNROUTABLE(router判定无法路由), ACTIVE（可路由）, DISPATCHABLE(没有其他未完成的依赖任务)
[20191210-11:19:51-363] INFO    kernelExecutor       o.o.s.b.dispatching.TransportOrderUtil.updateTransportOrderState(): Updating state of transport order TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3 to ACTIVE...
[20191210-11:19:51-369] INFO    kernelExecutor       o.o.s.b.dispatching.TransportOrderUtil.updateTransportOrderState(): Updating state of transport order TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3 to DISPATCHABLE...
[20191210-11:19:51-370] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 2、处理AWAITING_ORDER的小车。如果小车身上存在WITHDRAWN的运单，则将小车(是否需要disable,需要则UNAVAILABLE否则IDLE)及运单状态(fail)做相应调整
[20191210-11:19:51-371] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 3、分配下一个DriveOrder给AWAITING_ORDER的小车。checkForNextDriveOrder根据小车身上的TransportOrder.getCurrentDriveOrder()判断小车当前运单完成情况及是否需要分配下一个DriveOrder
[20191210-11:19:51-372] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 4、根据order sequences分配下一个运单给小车。Assigns vehicles to the next transport orders in their respective order sequences, if any.
[20191210-11:19:51-374] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 5、分配订单给小车，首先分配已预订的订单，然后分配自由订单。Assignment of orders to vehicles.Default: Assigns reserved and then free orders to vehicles.
[20191210-11:19:51-375] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.assignOrders()    : 5.1、分配已被预定的订单给小车。Assigns reserved transport orders (if any) to vehicles that have just finished their withdrawn ones.
[20191210-11:19:51-376] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.assignOrders()    : 5.2、分配订单给当前没有renew任务的小车。Assigns transport orders to vehicles that are currently not processing any and are not bound to any order sequences.
[20191210-11:19:51-377] FINE    kernelExecutor       o.o.s.b.d.s.vehicles.IsAvailableForAnyOrder.test()     : 检查Vehicle-01小车是否可用(TO_BE_UTILIZED && 当前点位不为空&&没有OrderSequence&&电量部位紧急状态&&不需要继续充电(对于正在充电的小车)&&【不在处理订单||正在处理的订单可有可无DispensableOrder】)&&未被其他订单预定
[20191210-11:19:51-377] FINE    kernelExecutor       o.o.s.b.d.s.vehicles.CompositeVehicleSelectionFilter.apply(): 【CompositeVehicleSelectionFilter组合过滤器】对Vehicle-01执行过滤条件[]
[20191210-11:19:51-378] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsAvailableForAnyOrder.CompositeVehicleSelectionFilter(组合过滤器默认为空)】做完小车过滤，过滤结果:Map<Boolean, List<VehicleFilterResult>> = {false=[], true=[org.opentcs.strategies.basic.dispatching.phase.VehicleFilterResult@313e0890]}
[20191210-11:19:51-378] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.vehiclesSplitByFilter.collect】收集过滤结果，获取到availableVehicles:[Vehicle{name=Vehicle-01, procState=IDLE, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=0, name=Point-0001}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[], length=1000, adapterState=UNKNOWN, transportOrder=null, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}]
[20191210-11:19:51-378] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsAvailableForAnyOrder.CompositeVehicleSelectionFilter(组合过滤器默认为空)】做完小车过滤，获取到availableVehicles:[Vehicle{name=Vehicle-01, procState=IDLE, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=0, name=Point-0001}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[], length=1000, adapterState=UNKNOWN, transportOrder=null, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}]
[20191210-11:19:51-380] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsFreelyDispatchableToAnyVehicle.CompositeTransportOrderSelectionFilter(组合过滤器默认为空)】做完订单过滤，过滤结果:Map<Boolean, List<OrderFilterResult>> = {false=[], true=[org.opentcs.strategies.basic.dispatching.phase.OrderFilterResult@68e7ec3e]}
[20191210-11:19:51-380] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run】做完订单过滤，获取到availableOrders:[org.opentcs.strategies.basic.dispatching.phase.OrderFilterResult@68e7ec3e]
[20191210-11:19:51-380] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run】开始执行分配tryAssignments
[20191210-11:19:51-380] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignments(): Available for dispatching: 1 transport orders and 1 vehicles.
[20191210-11:19:51-381] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignments(): 【AssignFreeOrderPhase.run.tryAssignments】[可用的小车数量]>[可分配自由订单数量]的情况下:所有[可分配自由订单]->小车排序->tryAssignVehicle
[20191210-11:19:51-381] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignVehicle(): Trying to find vehicle for transport order 'TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3'...
[20191210-11:19:51-381] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignVehicle(): 【AssignFreeOrderPhase.run.tryAssignments.tryAssignVehicle】开始遍历小车，给订单'TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3'分配小车(未分配订单，能承运本(订单预用小车或预用本小车)订单)...
[20191210-11:19:51-385] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.computeCandidate(): 开始试算Point-0001点位上的Vehicle-01小车执行TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3订单所需要的运输成本
[20191210-11:19:51-387] FINE    kernelExecutor       o.o.s.b.r.jgrapht.ShortestPathPointRouter.getRouteSteps(): Looking up route from Point-0001 to Point-0026 took 1 milliseconds.
[20191210-11:19:51-388] FINE    kernelExecutor       o.o.s.b.r.jgrapht.ShortestPathPointRouter.getRouteSteps(): Looking up route from Point-0026 to Point-0021 took 0 milliseconds.
[20191210-11:19:51-389] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.computeCandidate(): 新增候选项，该候选项getRoute获取最短路径调用返回结果Optional<List<DriveOrder>>为:::【Optional[[Route{steps=[Point-0003, Point-0004, Point-0008, Point-0009, Point-0011, Point-0013, Point-0018, Point-0019, Point-0022, Point-0056, Point-0023, Point-0024, Point-0025, Point-0026], costs=91862} -> Goods in north 01:Load cargo, Route{steps=[Point-0027, Point-0032, Point-0028, Point-0029, Point-0035, Point-0036, Point-0034, Point-0014, Point-0008, Point-0009, Point-0011, Point-0013, Point-0018, Point-0019, Point-0017, Point-0020, Point-0021], costs=118852} -> Goods out 02:Unload cargo]]】
[20191210-11:19:51-394] FINE    kernelExecutor       o.o.virtualvehicle.LoopbackCommunicationAdapter.canProcess(): Vehicle-01: Checking processability of [Load cargo, Unload cargo]...
[20191210-11:19:51-394] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignVehicle(): 【AssignFreeOrdersPhase.*.tryAssignVehicle.CompositeAssignmentCandidateSelectionFilter(组合过滤器默认为IsProcessable,用于检查小车的Operation是否包含所有驾驶单中的Operation)】做完候选项过滤，过滤结果:Map<Boolean, List<CandidateFilterResult>> = {false=[], true=[org.opentcs.strategies.basic.dispatching.phase.CandidateFilterResult@2803aaba]}
[20191210-11:19:51-396] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignVehicle(): 【AssignFreeOrdersPhase.*.tryAssignVehicle.CompositeVehicleCandidateComparator(候选小车比较器).findFirst.assignOrder】
[20191210-11:19:51-397] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.assignOrder(): 【AssignFreeOrdersPhase.*.tryAssignVehicle.CompositeVehicleCandidateComparator(候选小车比较器).findFirst.assignOrder】开始执行终选项分配:::If the vehicle currently has a (dispensable) order, we may not assign the new one here directly, but must abort the old one (DefaultDispatcher.abortOrder()) and wait for the vehicle's ProcState to become IDLE.
[20191210-11:19:51-398] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.assignOrder():  If the vehicle currently has a (dispensable) order, we may not assign the new one here directly, but must abort the old one (DefaultDispatcher.abortOrder()) and wait for the vehicle's ProcState to become IDLE.
[20191210-11:19:51-398] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.assignOrder(): Assigning transport order 'TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3' to vehicle 'Vehicle-01'...
[20191210-11:19:51-399] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.assignOrder(): ==================完成最优方案选定， 开始进行运单与小车绑定及运单拆解==================
[20191210-11:19:51-399] FINE    kernelExecutor       o.o.s.b.dispatching.TransportOrderUtil.assignTransportOrder(): Assigning vehicle Vehicle-01 to order TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3.
[20191210-11:19:51-400] FINE    kernelExecutor       o.o.k.services.StandardVehicleService.updateVehicleProcState(): Updating procState of vehicle Vehicle-01 to PROCESSING_ORDER...
[20191210-11:19:51-400] INFO    kernelExecutor       o.o.s.b.dispatching.TransportOrderUtil.updateTransportOrderState(): Updating state of transport order TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3 to BEING_PROCESSED...
[20191210-11:19:51-402] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.setDriveOrder(): 【DefaultVehicleController.setDriveOrder】开始为小车Vehicle-01添加驾驶单Route{steps=[Point-0003, Point-0004, Point-0008, Point-0009, Point-0011, Point-0013, Point-0018, Point-0019, Point-0022, Point-0056, Point-0023, Point-0024, Point-0025, Point-0026], costs=91862} -> Goods in north 01:Load cargo
[20191210-11:19:51-403] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.setDriveOrder(): 【DefaultVehicleController.setDriveOrder.scheduler.claim】开始为小车Vehicle-01认领路线资源
[20191210-11:19:51-404] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.claim()           : Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Claiming resources [[Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}], [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}], [Path{id=60, name=Point-0004 --- Point-0008}, Point{id=7, name=Point-0008}], [Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}], [Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}], [Point{id=12, name=Point-0013}, Path{id=69, name=Point-0011 --- Point-0013}], [Path{id=72, name=Point-0013 --- Point-0018}, Point{id=17, name=Point-0018}], [Path{id=80, name=Point-0018 --- Point-0019}, Point{id=18, name=Point-0019}], [Point{id=21, name=Point-0022}, Path{id=82, name=Point-0019 --- Point-0022}], [Point{id=54, name=Point-0056}, Path{id=85, name=Point-0022 --- Point-0056}], [Point{id=22, name=Point-0023}, Path{id=122, name=Point-0056 --- Point-0023}], [Point{id=23, name=Point-0024}, Path{id=86, name=Point-0023 --- Point-0024}], [Path{id=87, name=Point-0024 --- Point-0025}, Point{id=24, name=Point-0025}], [Path{id=88, name=Point-0025 --- Point-0026}, Point{id=25, name=Point-0026}]] for clientDefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:19:51-404] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.claim()           : Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Claiming resources [[Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}], [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}], [Path{id=60, name=Point-0004 --- Point-0008}, Point{id=7, name=Point-0008}], [Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}], [Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}], [Point{id=12, name=Point-0013}, Path{id=69, name=Point-0011 --- Point-0013}], [Path{id=72, name=Point-0013 --- Point-0018}, Point{id=17, name=Point-0018}], [Path{id=80, name=Point-0018 --- Point-0019}, Point{id=18, name=Point-0019}], [Point{id=21, name=Point-0022}, Path{id=82, name=Point-0019 --- Point-0022}], [Point{id=54, name=Point-0056}, Path{id=85, name=Point-0022 --- Point-0056}], [Point{id=22, name=Point-0023}, Path{id=122, name=Point-0056 --- Point-0023}], [Point{id=23, name=Point-0024}, Path{id=86, name=Point-0023 --- Point-0024}], [Path{id=87, name=Point-0024 --- Point-0025}, Point{id=24, name=Point-0025}], [Path{id=88, name=Point-0025 --- Point-0026}, Point{id=25, name=Point-0026}]] for clientDefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:19:51-407] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.createFutureCommands(): DefaultVehicleController将驾驶单Route{steps=[Point-0003, Point-0004, Point-0008, Point-0009, Point-0011, Point-0013, Point-0018, Point-0019, Point-0022, Point-0056, Point-0023, Point-0024, Point-0025, Point-0026], costs=91862} -> Goods in north 01:Load cargo转换为移动指令{}并添加到小车的futureCommands
[20191210-11:19:51-408] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.createFutureCommands(): DefaultVehicleController完成 驾驶单->移动指令->小车futureCommands 流程
[20191210-11:19:51-408] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.setDriveOrder(): 【DefaultVehicleController.setDriveOrder】将为小车下发驾驶单中的首个MovementCommand【DefaultVehicleController.setDriveOrder -> canSendNextCommand -> allocateForNextCommand】
[20191210-11:19:51-409] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有0个commandsSent，14futureCommands。
[20191210-11:19:51-409] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有2sendableCommands
[20191210-11:19:51-409] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:19:51-410] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:19:51-410] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}]
[20191210-11:19:51-410] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}]
[20191210-11:19:51-411] FINE    kernelExecutor       o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}]】...
[20191210-11:19:51-411] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@599e5ae6
[20191210-11:19:51-412] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.assignOrder(): ==================完成最优方案选定， 完成进行运单与小车绑定及运单拆解==================
[20191210-11:19:51-413] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 6、Recharging of vehicles.Default: Sends idle vehicles with a degraded energy level to recharge locations.
[20191210-11:19:51-414] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.rechargeVehicles(): 6.1、新建充电订单给Creates recharging orders for any vehicles with a degraded energy level.
[20191210-11:19:51-414] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 7、Parking of vehicles.Default: Sends idle vehicles to parking positions.
[20191210-11:19:51-414] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.1、Creates parking orders for idle vehicles already at a parking position to send them to higher prioritized parking positions.
[20191210-11:19:51-414] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.2、Creates parking orders for idle vehicles not already at a parking position considering only prioritized parking positions.
[20191210-11:19:51-415] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.3、Creates parking orders for idle vehicles not already at a parking position considering all parking positions.
[20191210-11:19:51-415] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : Finished full dispatch run.
[20191210-11:19:51-415] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : ==============结束 FullDispatchTask.run ==============
[20191210-11:19:51-416] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@599e5ae6
[20191210-11:19:51-416] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:19:51-416] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:19:51-419] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:19:51-420] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:19:51-421] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:19:51-422] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:19:51-422] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=56, name=Point-0001 --- Point-0003} for client Vehicle-01
[20191210-11:19:51-422] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=2, name=Point-0003} for client Vehicle-01
[20191210-11:19:51-424] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}]' successful, calling back client 'Vehicle-01'...
[20191210-11:19:51-424] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}]
[20191210-11:19:51-424] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:19:51-425] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:19:51-425] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:19:51-425] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0003, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]被加到指令队列中....
[20191210-11:19:51-426] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0003, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}
[20191210-11:19:51-426] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:19:51-427] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有1个commandsSent，13futureCommands。
[20191210-11:19:51-427] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有1sendableCommands
[20191210-11:19:51-427] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:19:51-428] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:19:51-428] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}]
[20191210-11:19:51-428] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}]
[20191210-11:19:51-429] FINE    kernelExecutor       o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}]】...
[20191210-11:19:51-429] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@2d50e00c
[20191210-11:19:51-429] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@2d50e00c
[20191210-11:19:51-429] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:19:51-429] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:19:51-430] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:19:51-430] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:19:51-430] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:19:51-430] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:19:51-430] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=58, name=Point-0003 --- Point-0004} for client Vehicle-01
[20191210-11:19:51-430] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=3, name=Point-0004} for client Vehicle-01
[20191210-11:19:51-431] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}]' successful, calling back client 'Vehicle-01'...
[20191210-11:19:51-431] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}]
[20191210-11:19:51-431] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:19:51-431] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:19:51-432] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:19:51-432] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0004, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]被加到指令队列中....
[20191210-11:19:51-432] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0004, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}
[20191210-11:19:51-432] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:19:51-433] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有2个commandsSent，12futureCommands。
[20191210-11:19:51-433] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有0sendableCommands
[20191210-11:19:51-433] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): Vehicle-01: Cannot send, number of sendable commands: 0

============================新增运单完成============================


============================小车执行NextStep-1============================
[20191210-11:20:15-503] FINE    Vehicle-01-commandDispatcher o.o.d.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask.runActualTask(): 【BasicVehicleCommAdapter】即将被下发移动指令[curCmd=MovementCommand{step=Point-0003, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]：sendCommand(curCmd)->getSentQueue().add(curCmd)->getProcessModel().commandSent(curCmd)
[20191210-11:20:15-579] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 当前所有sentQueue[MovementCommand{step=Point-0003, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]
[20191210-11:20:15-579] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): peek获取【已发送未执行队列sentQueue】中的的当前运行指令MovementCommand:MovementCommand{step=Point-0003, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}
[20191210-11:20:15-580] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processing MovementCommand...
[20191210-11:20:15-580] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始执行移动指令MovementCommand========
[20191210-11:20:15-692] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.02; s = 10.0; v_current = 0.0; v_target = 1000.0
[20191210-11:20:15-692] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 50000
[20191210-11:20:15-793] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.013333333333333334; s = 10.0; v_current = 500.0; v_target = 1000.0
[20191210-11:20:15-793] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 37500
[20191210-11:20:16-308] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=2, name=Point-0003}.
[20191210-11:20:16-309] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0003.
[20191210-11:20:16-310] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器已驱动小车执行移动指令MovementCommand.StepPoint-0003
[20191210-11:20:16-310] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器检查false需要执行MovementCommand.OperationNOP
[20191210-11:20:16-311] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processed MovementCommand.
[20191210-11:20:16-311] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器执行完成移动指令MovementCommand========
[20191210-11:20:16-311] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始更新小车状态：========
[20191210-11:20:16-311] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 如果【待执行SentQueue】 <= 1 && 【待发送CommandQueue】为空，置Vehicle.State.IDLE
[20191210-11:20:16-312] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): getSentQueue().poll()移除已经被执行掉的sentCmd
[20191210-11:20:16-312] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 告知小车模型指令MovementCommand{step=Point-0003, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}已被执行
[20191210-11:20:16-312] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Freeing resources: [Point{id=0, name=Point-0001}]
[20191210-11:20:16-313] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.free()             : Vehicle-01: Releasing resources: [Point{id=0, name=Point-0001}]
[20191210-11:20:16-313] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.ReservationPool.free()              : Vehicle-01: Releasing resources: [Point{id=0, name=Point-0001}]
[20191210-11:20:16-316] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@428a4284
[20191210-11:20:16-317] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@46eb8f9
[20191210-11:20:16-317] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有1个commandsSent，12futureCommands。
[20191210-11:20:16-317] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@428a4284
[20191210-11:20:16-317] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有1sendableCommands
[20191210-11:20:16-318] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:20:16-318] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Allocation released for resources [Point{id=0, name=Point-0001}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:20:16-318] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:20:16-318] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Allocation released for resources [Point{id=0, name=Point-0001}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:20:16-318] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Path{id=60, name=Point-0004 --- Point-0008}, Point{id=7, name=Point-0008}]
[20191210-11:20:16-319] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Path{id=60, name=Point-0004 --- Point-0008}, Point{id=7, name=Point-0008}]
[20191210-11:20:16-319] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@46eb8f9
[20191210-11:20:16-319] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Path{id=60, name=Point-0004 --- Point-0008}, Point{id=7, name=Point-0008}]】...
[20191210-11:20:16-319] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@3cf8672c
[20191210-11:20:16-320] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器完成更新小车状态========
[20191210-11:20:16-320] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@3cf8672c
[20191210-11:20:16-320] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:20:16-320] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:20:16-321] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:20:16-321] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Path{id=60, name=Point-0004 --- Point-0008}, Point{id=7, name=Point-0008}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:20:16-321] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Path{id=60, name=Point-0004 --- Point-0008}, Point{id=7, name=Point-0008}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:20:16-322] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:20:16-322] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=60, name=Point-0004 --- Point-0008} for client Vehicle-01
[20191210-11:20:16-322] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=7, name=Point-0008} for client Vehicle-01
[20191210-11:20:16-322] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Path{id=60, name=Point-0004 --- Point-0008}, Point{id=7, name=Point-0008}]' successful, calling back client 'Vehicle-01'...
[20191210-11:20:16-323] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Path{id=60, name=Point-0004 --- Point-0008}, Point{id=7, name=Point-0008}]
[20191210-11:20:16-323] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:20:16-323] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:20:16-324] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:20:16-324] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0008, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]被加到指令队列中....
[20191210-11:20:16-324] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0008, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}
[20191210-11:20:16-325] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:20:16-325] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有2个commandsSent，11futureCommands。
[20191210-11:20:16-325] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有0sendableCommands
[20191210-11:20:16-326] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): Vehicle-01: Cannot send, number of sendable commands: 0


============================完成小车执行NextStep-1============================


============================开始小车执行NextStep-2============================

[20191210-11:21:30-486] FINE    Vehicle-01-commandDispatcher o.o.d.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask.runActualTask(): 【BasicVehicleCommAdapter】即将被下发移动指令[curCmd=MovementCommand{step=Point-0004, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]：sendCommand(curCmd)->getSentQueue().add(curCmd)->getProcessModel().commandSent(curCmd)
[20191210-11:21:30-536] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 当前所有sentQueue[MovementCommand{step=Point-0004, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]
[20191210-11:21:30-536] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): peek获取【已发送未执行队列sentQueue】中的的当前运行指令MovementCommand:MovementCommand{step=Point-0004, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}
[20191210-11:21:30-536] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processing MovementCommand...
[20191210-11:21:30-537] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始执行移动指令MovementCommand========
[20191210-11:21:30-639] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.02; s = 10.0; v_current = 0.0; v_target = 1000.0
[20191210-11:21:30-640] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 50000
[20191210-11:21:30-740] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.013333333333333334; s = 10.0; v_current = 500.0; v_target = 1000.0
[20191210-11:21:30-740] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 37500
[20191210-11:21:31-045] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=3, name=Point-0004}.
[20191210-11:21:31-045] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0004.
[20191210-11:21:31-048] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器已驱动小车执行移动指令MovementCommand.StepPoint-0004
[20191210-11:21:31-048] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器检查false需要执行MovementCommand.OperationNOP
[20191210-11:21:31-048] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processed MovementCommand.
[20191210-11:21:31-049] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器执行完成移动指令MovementCommand========
[20191210-11:21:31-049] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始更新小车状态：========
[20191210-11:21:31-049] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 如果【待执行SentQueue】 <= 1 && 【待发送CommandQueue】为空，置Vehicle.State.IDLE
[20191210-11:21:31-049] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): getSentQueue().poll()移除已经被执行掉的sentCmd
[20191210-11:21:31-049] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 告知小车模型指令MovementCommand{step=Point-0004, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}已被执行
[20191210-11:21:31-050] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Freeing resources: [Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}]
[20191210-11:21:31-050] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.free()             : Vehicle-01: Releasing resources: [Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}]
[20191210-11:21:31-050] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.ReservationPool.free()              : Vehicle-01: Releasing resources: [Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}]
[20191210-11:21:31-051] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@39cae3fa
[20191210-11:21:31-051] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@48122d4a
[20191210-11:21:31-051] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@39cae3fa
[20191210-11:21:31-051] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Allocation released for resources [Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:21:31-052] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Allocation released for resources [Path{id=56, name=Point-0001 --- Point-0003}, Point{id=2, name=Point-0003}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:21:31-052] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有1个commandsSent，11futureCommands。
[20191210-11:21:31-052] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@48122d4a
[20191210-11:21:31-052] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有1sendableCommands
[20191210-11:21:31-052] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:21:31-053] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:21:31-053] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}]
[20191210-11:21:31-053] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}]
[20191210-11:21:31-053] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}]】...
[20191210-11:21:31-054] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@37acf263
[20191210-11:21:31-054] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器完成更新小车状态========
[20191210-11:21:31-054] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@37acf263
[20191210-11:21:31-054] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:21:31-055] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:21:31-055] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:21:31-055] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:21:31-056] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:21:31-056] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:21:31-056] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=8, name=Point-0009} for client Vehicle-01
[20191210-11:21:31-056] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=66, name=Point-0008 --- Point-0009} for client Vehicle-01
[20191210-11:21:31-056] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}]' successful, calling back client 'Vehicle-01'...
[20191210-11:21:31-057] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}]
[20191210-11:21:31-057] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:21:31-057] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:21:31-057] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:21:31-059] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0009, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]被加到指令队列中....
[20191210-11:21:31-059] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0009, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}
[20191210-11:21:31-059] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:21:31-060] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有2个commandsSent，10futureCommands。
[20191210-11:21:31-060] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有0sendableCommands
[20191210-11:21:31-060] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): Vehicle-01: Cannot send, number of sendable commands: 0



============================完成小车执行NextStep-2============================


============================开始小车执行NextStep-3============================
[20191210-11:21:54-122] FINE    Vehicle-01-commandDispatcher o.o.d.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask.runActualTask(): 【BasicVehicleCommAdapter】即将被下发移动指令[curCmd=MovementCommand{step=Point-0008, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]：sendCommand(curCmd)->getSentQueue().add(curCmd)->getProcessModel().commandSent(curCmd)
[20191210-11:21:54-198] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 当前所有sentQueue[MovementCommand{step=Point-0008, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]
[20191210-11:21:54-199] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): peek获取【已发送未执行队列sentQueue】中的的当前运行指令MovementCommand:MovementCommand{step=Point-0008, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}
[20191210-11:21:54-199] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processing MovementCommand...
[20191210-11:21:54-200] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始执行移动指令MovementCommand========
[20191210-11:21:54-302] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.02; s = 10.0; v_current = 0.0; v_target = 1000.0
[20191210-11:21:54-303] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 50000
[20191210-11:21:54-406] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.013333333333333334; s = 10.0; v_current = 500.0; v_target = 1000.0
[20191210-11:21:54-406] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 37500
[20191210-11:21:54-825] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=7, name=Point-0008}.
[20191210-11:21:54-825] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0008.
[20191210-11:21:54-827] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器已驱动小车执行移动指令MovementCommand.StepPoint-0008
[20191210-11:21:54-827] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器检查false需要执行MovementCommand.OperationNOP
[20191210-11:21:54-827] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processed MovementCommand.
[20191210-11:21:54-828] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器执行完成移动指令MovementCommand========
[20191210-11:21:54-828] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始更新小车状态：========
[20191210-11:21:54-828] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 如果【待执行SentQueue】 <= 1 && 【待发送CommandQueue】为空，置Vehicle.State.IDLE
[20191210-11:21:54-828] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): getSentQueue().poll()移除已经被执行掉的sentCmd
[20191210-11:21:54-828] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 告知小车模型指令MovementCommand{step=Point-0008, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}已被执行
[20191210-11:21:54-829] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Freeing resources: [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}]
[20191210-11:21:54-829] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.free()             : Vehicle-01: Releasing resources: [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}]
[20191210-11:21:54-829] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.ReservationPool.free()              : Vehicle-01: Releasing resources: [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}]
[20191210-11:21:54-829] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@508b3a97
[20191210-11:21:54-830] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@9aa35b1
[20191210-11:21:54-830] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@508b3a97
[20191210-11:21:54-830] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有1个commandsSent，10futureCommands。
[20191210-11:21:54-830] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Allocation released for resources [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:21:54-830] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有1sendableCommands
[20191210-11:21:54-830] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Allocation released for resources [Path{id=58, name=Point-0003 --- Point-0004}, Point{id=3, name=Point-0004}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:21:54-830] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:21:54-831] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@9aa35b1
[20191210-11:21:54-831] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:21:54-831] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}]
[20191210-11:21:54-831] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}]
[20191210-11:21:54-831] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}]】...
[20191210-11:21:54-832] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@5945e10d
[20191210-11:21:54-832] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器完成更新小车状态========
[20191210-11:21:54-832] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@5945e10d
[20191210-11:21:54-832] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:21:54-832] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:21:54-833] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:21:54-833] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:21:54-833] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:21:54-833] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:21:54-833] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=67, name=Point-0009 --- Point-0011} for client Vehicle-01
[20191210-11:21:54-834] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=10, name=Point-0011} for client Vehicle-01
[20191210-11:21:54-834] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}]' successful, calling back client 'Vehicle-01'...
[20191210-11:21:54-834] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}]
[20191210-11:21:54-834] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:21:54-834] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:21:54-835] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:21:54-835] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0011, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]被加到指令队列中....
[20191210-11:21:54-835] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0011, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}
[20191210-11:21:54-835] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:21:54-836] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有2个commandsSent，9futureCommands。
[20191210-11:21:54-836] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有0sendableCommands
[20191210-11:21:54-836] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): Vehicle-01: Cannot send, number of sendable commands: 0

============================完成小车执行NextStep-3============================

============================开始小车执行NextStep-驾驶单1前2步============================

[20191210-11:23:25-433] FINE    Vehicle-01-commandDispatcher o.o.d.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask.runActualTask(): 【BasicVehicleCommAdapter】即将被下发移动指令[curCmd=MovementCommand{step=Point-0025, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]：sendCommand(curCmd)->getSentQueue().add(curCmd)->getProcessModel().commandSent(curCmd)
[20191210-11:23:25-534] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 当前所有sentQueue[MovementCommand{step=Point-0025, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]
[20191210-11:23:25-534] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): peek获取【已发送未执行队列sentQueue】中的的当前运行指令MovementCommand:MovementCommand{step=Point-0025, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}
[20191210-11:23:25-534] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processing MovementCommand...
[20191210-11:23:25-534] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始执行移动指令MovementCommand========
[20191210-11:23:25-638] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.02; s = 10.0; v_current = 0.0; v_target = 1000.0
[20191210-11:23:25-638] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 50000
[20191210-11:23:25-741] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.013333333333333334; s = 10.0; v_current = 500.0; v_target = 1000.0
[20191210-11:23:25-742] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 37500
[20191210-11:23:26-146] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=24, name=Point-0025}.
[20191210-11:23:26-146] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0025.
[20191210-11:23:26-146] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器已驱动小车执行移动指令MovementCommand.StepPoint-0025
[20191210-11:23:26-146] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器检查false需要执行MovementCommand.OperationNOP
[20191210-11:23:26-146] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processed MovementCommand.
[20191210-11:23:26-147] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器执行完成移动指令MovementCommand========
[20191210-11:23:26-147] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始更新小车状态：========
[20191210-11:23:26-147] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 如果【待执行SentQueue】 <= 1 && 【待发送CommandQueue】为空，置Vehicle.State.IDLE
[20191210-11:23:26-147] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): getSentQueue().poll()移除已经被执行掉的sentCmd
[20191210-11:23:26-147] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 告知小车模型指令MovementCommand{step=Point-0025, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}已被执行
[20191210-11:23:26-147] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Freeing resources: [Point{id=23, name=Point-0024}, Path{id=86, name=Point-0023 --- Point-0024}]
[20191210-11:23:26-147] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.free()             : Vehicle-01: Releasing resources: [Point{id=23, name=Point-0024}, Path{id=86, name=Point-0023 --- Point-0024}]
[20191210-11:23:26-147] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.ReservationPool.free()              : Vehicle-01: Releasing resources: [Point{id=23, name=Point-0024}, Path{id=86, name=Point-0023 --- Point-0024}]
[20191210-11:23:26-147] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@134d1d6e
[20191210-11:23:26-148] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@36b51351
[20191210-11:23:26-148] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: No more commands in current drive order
[20191210-11:23:26-148] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@134d1d6e
[20191210-11:23:26-149] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器完成更新小车状态========
[20191210-11:23:26-149] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Allocation released for resources [Point{id=23, name=Point-0024}, Path{id=86, name=Point-0023 --- Point-0024}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:23:26-149] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Allocation released for resources [Point{id=23, name=Point-0024}, Path{id=86, name=Point-0023 --- Point-0024}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:23:26-149] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@36b51351


============================完成小车执行NextStep-驾驶单1前2步============================

============================开始小车执行NextStep-驾驶单1前1步============================

[20191210-11:23:44-203] FINE    Vehicle-01-commandDispatcher o.o.d.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask.runActualTask(): 【BasicVehicleCommAdapter】即将被下发移动指令[curCmd=MovementCommand{step=Point-0026, operation=Load cargo, opLocation=Location{id=127, name=Goods in north 01}, finalMovement=true, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]：sendCommand(curCmd)->getSentQueue().add(curCmd)->getProcessModel().commandSent(curCmd)
[20191210-11:23:44-205] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 当前所有sentQueue[MovementCommand{step=Point-0026, operation=Load cargo, opLocation=Location{id=127, name=Goods in north 01}, finalMovement=true, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}]
[20191210-11:23:44-205] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): peek获取【已发送未执行队列sentQueue】中的的当前运行指令MovementCommand:MovementCommand{step=Point-0026, operation=Load cargo, opLocation=Location{id=127, name=Goods in north 01}, finalMovement=true, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}
[20191210-11:23:44-205] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processing MovementCommand...
[20191210-11:23:44-205] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始执行移动指令MovementCommand========
[20191210-11:23:44-310] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.02; s = 10.0; v_current = 0.0; v_target = 1000.0
[20191210-11:23:44-310] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 50000
[20191210-11:23:44-414] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.013333333333333334; s = 10.0; v_current = 500.0; v_target = 1000.0
[20191210-11:23:44-414] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 37500
[20191210-11:23:44-727] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=25, name=Point-0026}.
[20191210-11:23:44-728] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0026.
[20191210-11:23:44-728] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器已驱动小车执行移动指令MovementCommand.StepPoint-0026
[20191210-11:23:44-728] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器检查true需要执行MovementCommand.OperationLoad cargo
[20191210-11:23:44-729] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.simulateOperation(): Operating...
[20191210-11:23:45-233] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processed MovementCommand.
[20191210-11:23:45-233] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器执行完成移动指令MovementCommand========
[20191210-11:23:45-233] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始更新小车状态：========
[20191210-11:23:45-233] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 如果【待执行SentQueue】 <= 1 && 【待发送CommandQueue】为空，置Vehicle.State.IDLE
[20191210-11:23:45-234] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): getSentQueue().poll()移除已经被执行掉的sentCmd
[20191210-11:23:45-234] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 告知小车模型指令MovementCommand{step=Point-0026, operation=Load cargo, opLocation=Location{id=127, name=Goods in north 01}, finalMovement=true, finalDestination=Point{id=25, name=Point-0026}, finalDestinationLocation=Location{id=127, name=Goods in north 01}, finalOperation=Load cargo, properties={}}已被执行
[20191210-11:23:45-234] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Freeing resources: [Path{id=87, name=Point-0024 --- Point-0025}, Point{id=24, name=Point-0025}]
[20191210-11:23:45-234] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.free()             : Vehicle-01: Releasing resources: [Path{id=87, name=Point-0024 --- Point-0025}, Point{id=24, name=Point-0025}]
[20191210-11:23:45-234] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.ReservationPool.free()              : Vehicle-01: Releasing resources: [Path{id=87, name=Point-0024 --- Point-0025}, Point{id=24, name=Point-0025}]
[20191210-11:23:45-234] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@70d3132d
[20191210-11:23:45-235] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@3cf76427
[20191210-11:23:45-235] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@70d3132d
[20191210-11:23:45-235] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: No more commands in current drive order
[20191210-11:23:45-235] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Allocation released for resources [Path{id=87, name=Point-0024 --- Point-0025}, Point{id=24, name=Point-0025}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:23:45-235] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Current drive order processed
[20191210-11:23:45-235] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Allocation released for resources [Path{id=87, name=Point-0024 --- Point-0025}, Point{id=24, name=Point-0025}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:23:45-235] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehicleProcState(): Updating procState of vehicle Vehicle-01 to AWAITING_ORDER...
[20191210-11:23:45-236] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): 【ImplicitDispatchTrigger】::: 监听到小车信息变更事件，并且小车满足可调度条件
[20191210-11:23:45-236] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): 【ImplicitDispatchTrigger】::: 触发dispatcher.dispatch()方法，执行全局调度操作
[20191210-11:23:45-236] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): Dispatching for Vehicle{name=Vehicle-01, procState=AWAITING_ORDER, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=25, name=Point-0026}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[LoadHandlingDevice{label=default, full=true}], length=1000, adapterState=CONNECTED, transportOrder=TCSObjectReference{referentClass=class org.opentcs.data.order.TransportOrder, id=146, name=TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3}, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}...
[20191210-11:23:45-236] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : 【DefaultDispatcher】:::全局调度器DefaultDispatcher.dispatch调用开始
[20191210-11:23:45-236] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : Scheduling dispatch task...
[20191210-11:23:45-236] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : 【DefaultDispatcher】:::全局调度器DefaultDispatcher.dispatch调用结束
[20191210-11:23:45-237] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器完成更新小车状态========
[20191210-11:23:45-237] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@3cf76427
[20191210-11:23:45-237] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : ==============开始 FullDispatchTask.run ==============
[20191210-11:23:45-237] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 触发调度器的FullDispatchTask，执行任务分配：：：
[20191210-11:23:45-237] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : Starting full dispatch run...
[20191210-11:23:45-237] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 1、检查RAW状态的订单，调整为: UNROUTABLE(router判定无法路由), ACTIVE（可路由）, DISPATCHABLE(没有其他未完成的依赖任务)
[20191210-11:23:45-237] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 2、处理AWAITING_ORDER的小车。如果小车身上存在WITHDRAWN的运单，则将小车(是否需要disable,需要则UNAVAILABLE否则IDLE)及运单状态(fail)做相应调整
[20191210-11:23:45-238] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 3、分配下一个DriveOrder给AWAITING_ORDER的小车。checkForNextDriveOrder根据小车身上的TransportOrder.getCurrentDriveOrder()判断小车当前运单完成情况及是否需要分配下一个DriveOrder
[20191210-11:23:45-238] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignNextDriveOrdersPhase.checkForNextDriveOrder(): Vehicle 'Vehicle-01' finished a drive order.
[20191210-11:23:45-238] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignNextDriveOrdersPhase.checkForNextDriveOrder(): Assigning next drive order to vehicle 'Vehicle-01'...
[20191210-11:23:45-239] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.setDriveOrder(): 【DefaultVehicleController.setDriveOrder】开始为小车Vehicle-01添加驾驶单Route{steps=[Point-0027, Point-0032, Point-0028, Point-0029, Point-0035, Point-0036, Point-0034, Point-0014, Point-0008, Point-0009, Point-0011, Point-0013, Point-0018, Point-0019, Point-0017, Point-0020, Point-0021], costs=118852} -> Goods out 02:Unload cargo
[20191210-11:23:45-239] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.setDriveOrder(): 【DefaultVehicleController.setDriveOrder.scheduler.claim】开始为小车Vehicle-01认领路线资源
[20191210-11:23:45-239] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.claim()           : Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Claiming resources [[Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}], [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}], [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}], [Path{id=93, name=Point-0028 --- Point-0029}, Point{id=28, name=Point-0029}], [Point{id=33, name=Point-0035}, Path{id=94, name=Point-0029 --- Point-0035}], [Path{id=100, name=Point-0035 --- Point-0036}, Point{id=34, name=Point-0036}], [Point{id=32, name=Point-0034}, Path{id=101, name=Point-0036 --- Point-0034}], [Path{id=98, name=Point-0034 --- Point-0014}, Point{id=13, name=Point-0014}], [Path{id=73, name=Point-0014 --- Point-0008}, Point{id=7, name=Point-0008}], [Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}], [Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}], [Point{id=12, name=Point-0013}, Path{id=69, name=Point-0011 --- Point-0013}], [Path{id=72, name=Point-0013 --- Point-0018}, Point{id=17, name=Point-0018}], [Path{id=80, name=Point-0018 --- Point-0019}, Point{id=18, name=Point-0019}], [Path{id=81, name=Point-0019 --- Point-0017}, Point{id=16, name=Point-0017}], [Point{id=19, name=Point-0020}, Path{id=79, name=Point-0017 --- Point-0020}], [Point{id=20, name=Point-0021}, Path{id=83, name=Point-0020 --- Point-0021}]] for clientDefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:23:45-240] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.claim()           : Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Claiming resources [[Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}], [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}], [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}], [Path{id=93, name=Point-0028 --- Point-0029}, Point{id=28, name=Point-0029}], [Point{id=33, name=Point-0035}, Path{id=94, name=Point-0029 --- Point-0035}], [Path{id=100, name=Point-0035 --- Point-0036}, Point{id=34, name=Point-0036}], [Point{id=32, name=Point-0034}, Path{id=101, name=Point-0036 --- Point-0034}], [Path{id=98, name=Point-0034 --- Point-0014}, Point{id=13, name=Point-0014}], [Path{id=73, name=Point-0014 --- Point-0008}, Point{id=7, name=Point-0008}], [Point{id=8, name=Point-0009}, Path{id=66, name=Point-0008 --- Point-0009}], [Path{id=67, name=Point-0009 --- Point-0011}, Point{id=10, name=Point-0011}], [Point{id=12, name=Point-0013}, Path{id=69, name=Point-0011 --- Point-0013}], [Path{id=72, name=Point-0013 --- Point-0018}, Point{id=17, name=Point-0018}], [Path{id=80, name=Point-0018 --- Point-0019}, Point{id=18, name=Point-0019}], [Path{id=81, name=Point-0019 --- Point-0017}, Point{id=16, name=Point-0017}], [Point{id=19, name=Point-0020}, Path{id=79, name=Point-0017 --- Point-0020}], [Point{id=20, name=Point-0021}, Path{id=83, name=Point-0020 --- Point-0021}]] for clientDefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:23:45-240] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.createFutureCommands(): DefaultVehicleController将驾驶单Route{steps=[Point-0027, Point-0032, Point-0028, Point-0029, Point-0035, Point-0036, Point-0034, Point-0014, Point-0008, Point-0009, Point-0011, Point-0013, Point-0018, Point-0019, Point-0017, Point-0020, Point-0021], costs=118852} -> Goods out 02:Unload cargo转换为移动指令{}并添加到小车的futureCommands
[20191210-11:23:45-241] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.createFutureCommands(): DefaultVehicleController完成 驾驶单->移动指令->小车futureCommands 流程
[20191210-11:23:45-241] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.setDriveOrder(): 【DefaultVehicleController.setDriveOrder】将为小车下发驾驶单中的首个MovementCommand【DefaultVehicleController.setDriveOrder -> canSendNextCommand -> allocateForNextCommand】
[20191210-11:23:45-241] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有0个commandsSent，17futureCommands。
[20191210-11:23:45-241] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有2sendableCommands
[20191210-11:23:45-241] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:23:45-241] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:23:45-242] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}]
[20191210-11:23:45-242] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}]
[20191210-11:23:45-242] FINE    kernelExecutor       o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}]】...
[20191210-11:23:45-242] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@72cd0de7
[20191210-11:23:45-242] FINE    kernelExecutor       o.o.k.services.StandardVehicleService.updateVehicleProcState(): Updating procState of vehicle Vehicle-01 to PROCESSING_ORDER...
[20191210-11:23:45-243] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 4、根据order sequences分配下一个运单给小车。Assigns vehicles to the next transport orders in their respective order sequences, if any.
[20191210-11:23:45-243] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 5、分配订单给小车，首先分配已预订的订单，然后分配自由订单。Assignment of orders to vehicles.Default: Assigns reserved and then free orders to vehicles.
[20191210-11:23:45-243] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.assignOrders()    : 5.1、分配已被预定的订单给小车。Assigns reserved transport orders (if any) to vehicles that have just finished their withdrawn ones.
[20191210-11:23:45-243] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.assignOrders()    : 5.2、分配订单给当前没有renew任务的小车。Assigns transport orders to vehicles that are currently not processing any and are not bound to any order sequences.
[20191210-11:23:45-243] FINE    kernelExecutor       o.o.s.b.d.s.vehicles.IsAvailableForAnyOrder.test()     : 检查Vehicle-01小车是否可用(TO_BE_UTILIZED && 当前点位不为空&&没有OrderSequence&&电量部位紧急状态&&不需要继续充电(对于正在充电的小车)&&【不在处理订单||正在处理的订单可有可无DispensableOrder】)&&未被其他订单预定
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsAvailableForAnyOrder.CompositeVehicleSelectionFilter(组合过滤器默认为空)】做完小车过滤，过滤结果:Map<Boolean, List<VehicleFilterResult>> = {false=[], true=[]}
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.vehiclesSplitByFilter.collect】收集过滤结果，获取到availableVehicles:[]
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : No vehicles available, skipping potentially expensive fetching of orders.
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 6、Recharging of vehicles.Default: Sends idle vehicles with a degraded energy level to recharge locations.
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.rechargeVehicles(): 6.1、新建充电订单给Creates recharging orders for any vehicles with a degraded energy level.
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 7、Parking of vehicles.Default: Sends idle vehicles to parking positions.
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.1、Creates parking orders for idle vehicles already at a parking position to send them to higher prioritized parking positions.
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.2、Creates parking orders for idle vehicles not already at a parking position considering only prioritized parking positions.
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.3、Creates parking orders for idle vehicles not already at a parking position considering all parking positions.
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : Finished full dispatch run.
[20191210-11:23:45-244] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : ==============结束 FullDispatchTask.run ==============
[20191210-11:23:45-245] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@72cd0de7
[20191210-11:23:45-245] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:23:45-245] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:23:45-245] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:23:45-245] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:23:45-245] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:23:45-245] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:23:45-245] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=26, name=Point-0027} for client Vehicle-01
[20191210-11:23:45-246] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=91, name=Point-0026 --- Point-0027} for client Vehicle-01
[20191210-11:23:45-246] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}]' successful, calling back client 'Vehicle-01'...
[20191210-11:23:45-246] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}]
[20191210-11:23:45-246] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:23:45-246] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:23:45-246] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:23:45-246] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0027, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]被加到指令队列中....
[20191210-11:23:45-246] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0027, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:23:45-246] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:23:45-246] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有1个commandsSent，16futureCommands。
[20191210-11:23:45-247] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有1sendableCommands
[20191210-11:23:45-247] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:23:45-247] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:23:45-247] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}]
[20191210-11:23:45-247] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}]
[20191210-11:23:45-247] FINE    kernelExecutor       o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}]】...
[20191210-11:23:45-247] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@6ace99c1
[20191210-11:23:45-247] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@6ace99c1
[20191210-11:23:45-247] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:23:45-247] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:23:45-248] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:23:45-248] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:23:45-248] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:23:45-248] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:23:45-248] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=30, name=Point-0032} for client Vehicle-01
[20191210-11:23:45-248] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=92, name=Point-0027 --- Point-0032} for client Vehicle-01
[20191210-11:23:45-248] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}]' successful, calling back client 'Vehicle-01'...
[20191210-11:23:45-248] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}]
[20191210-11:23:45-248] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:23:45-249] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:23:45-249] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:23:45-249] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0032, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]被加到指令队列中....
[20191210-11:23:45-249] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0032, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:23:45-249] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:23:45-249] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有2个commandsSent，15futureCommands。
[20191210-11:23:45-249] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有0sendableCommands
[20191210-11:23:45-249] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): Vehicle-01: Cannot send, number of sendable commands: 0


============================完成小车执行NextStep-驾驶单1前1步============================

============================开始小车执行NextStep-驾驶单2-Step-1============================

[20191210-11:24:22-335] FINE    Vehicle-01-commandDispatcher o.o.d.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask.runActualTask(): 【BasicVehicleCommAdapter】即将被下发移动指令[curCmd=MovementCommand{step=Point-0027, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]：sendCommand(curCmd)->getSentQueue().add(curCmd)->getProcessModel().commandSent(curCmd)
[20191210-11:24:22-347] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 当前所有sentQueue[MovementCommand{step=Point-0027, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]
[20191210-11:24:22-348] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): peek获取【已发送未执行队列sentQueue】中的的当前运行指令MovementCommand:MovementCommand{step=Point-0027, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:24:22-348] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processing MovementCommand...
[20191210-11:24:22-348] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始执行移动指令MovementCommand========
[20191210-11:24:22-449] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.02; s = 10.0; v_current = 0.0; v_target = 1000.0
[20191210-11:24:22-450] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 50000
[20191210-11:24:22-557] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.013333333333333334; s = 10.0; v_current = 500.0; v_target = 1000.0
[20191210-11:24:22-557] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 37500
[20191210-11:24:23-179] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=26, name=Point-0027}.
[20191210-11:24:23-179] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0027.
[20191210-11:24:23-180] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器已驱动小车执行移动指令MovementCommand.StepPoint-0027
[20191210-11:24:23-180] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器检查false需要执行MovementCommand.OperationNOP
[20191210-11:24:23-180] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processed MovementCommand.
[20191210-11:24:23-180] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器执行完成移动指令MovementCommand========
[20191210-11:24:23-180] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始更新小车状态：========
[20191210-11:24:23-180] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 如果【待执行SentQueue】 <= 1 && 【待发送CommandQueue】为空，置Vehicle.State.IDLE
[20191210-11:24:23-180] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): getSentQueue().poll()移除已经被执行掉的sentCmd
[20191210-11:24:23-181] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 告知小车模型指令MovementCommand{step=Point-0027, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}已被执行
[20191210-11:24:23-181] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Freeing resources: [Path{id=88, name=Point-0025 --- Point-0026}, Point{id=25, name=Point-0026}]
[20191210-11:24:23-181] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.free()             : Vehicle-01: Releasing resources: [Path{id=88, name=Point-0025 --- Point-0026}, Point{id=25, name=Point-0026}]
[20191210-11:24:23-181] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.ReservationPool.free()              : Vehicle-01: Releasing resources: [Path{id=88, name=Point-0025 --- Point-0026}, Point{id=25, name=Point-0026}]
[20191210-11:24:23-181] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@68c2a67f
[20191210-11:24:23-181] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@608a31
[20191210-11:24:23-181] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@68c2a67f
[20191210-11:24:23-182] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有1个commandsSent，15futureCommands。
[20191210-11:24:23-182] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有1sendableCommands
[20191210-11:24:23-182] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Allocation released for resources [Path{id=88, name=Point-0025 --- Point-0026}, Point{id=25, name=Point-0026}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:24:23-182] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:24:23-182] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Allocation released for resources [Path{id=88, name=Point-0025 --- Point-0026}, Point{id=25, name=Point-0026}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:24:23-182] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:24:23-182] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@608a31
[20191210-11:24:23-182] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}]
[20191210-11:24:23-182] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}]
[20191210-11:24:23-183] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}]】...
[20191210-11:24:23-183] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@7b10046
[20191210-11:24:23-183] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器完成更新小车状态========
[20191210-11:24:23-183] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@7b10046
[20191210-11:24:23-183] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:24:23-183] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:24:23-184] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:24:23-184] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:24:23-184] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:24:23-184] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:24:23-184] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=96, name=Point-0032 --- Point-0028} for client Vehicle-01
[20191210-11:24:23-184] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=27, name=Point-0028} for client Vehicle-01
[20191210-11:24:23-184] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}]' successful, calling back client 'Vehicle-01'...
[20191210-11:24:23-185] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}]
[20191210-11:24:23-185] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:24:23-185] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:24:23-195] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:24:23-196] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0028, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]被加到指令队列中....
[20191210-11:24:23-196] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0028, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:24:23-196] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:24:23-196] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有2个commandsSent，14futureCommands。
[20191210-11:24:23-197] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有0sendableCommands
[20191210-11:24:23-197] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): Vehicle-01: Cannot send, number of sendable commands: 0


============================完成小车执行NextStep-驾驶单2-Step-1============================



============================开始小车执行NextStep-驾驶单2-Step-2============================

[20191210-11:24:41-235] FINE    Vehicle-01-commandDispatcher o.o.d.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask.runActualTask(): 【BasicVehicleCommAdapter】即将被下发移动指令[curCmd=MovementCommand{step=Point-0032, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]：sendCommand(curCmd)->getSentQueue().add(curCmd)->getProcessModel().commandSent(curCmd)
[20191210-11:24:41-256] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 当前所有sentQueue[MovementCommand{step=Point-0032, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]
[20191210-11:24:41-256] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): peek获取【已发送未执行队列sentQueue】中的的当前运行指令MovementCommand:MovementCommand{step=Point-0032, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:24:41-256] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processing MovementCommand...
[20191210-11:24:41-256] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始执行移动指令MovementCommand========
[20191210-11:24:41-361] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.02; s = 10.0; v_current = 0.0; v_target = 1000.0
[20191210-11:24:41-361] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 50000
[20191210-11:24:41-466] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.013333333333333334; s = 10.0; v_current = 500.0; v_target = 1000.0
[20191210-11:24:41-467] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 37500
[20191210-11:24:42-279] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=30, name=Point-0032}.
[20191210-11:24:42-279] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0032.
[20191210-11:24:42-282] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器已驱动小车执行移动指令MovementCommand.StepPoint-0032
[20191210-11:24:42-282] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器检查false需要执行MovementCommand.OperationNOP
[20191210-11:24:42-282] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processed MovementCommand.
[20191210-11:24:42-282] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器执行完成移动指令MovementCommand========
[20191210-11:24:42-283] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始更新小车状态：========
[20191210-11:24:42-283] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 如果【待执行SentQueue】 <= 1 && 【待发送CommandQueue】为空，置Vehicle.State.IDLE
[20191210-11:24:42-283] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): getSentQueue().poll()移除已经被执行掉的sentCmd
[20191210-11:24:42-283] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 告知小车模型指令MovementCommand{step=Point-0032, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}已被执行
[20191210-11:24:42-283] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Freeing resources: [Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}]
[20191210-11:24:42-284] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.free()             : Vehicle-01: Releasing resources: [Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}]
[20191210-11:24:42-284] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.ReservationPool.free()              : Vehicle-01: Releasing resources: [Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}]
[20191210-11:24:42-284] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@607d3a5d
[20191210-11:24:42-284] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@64480561
[20191210-11:24:42-284] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@607d3a5d
[20191210-11:24:42-285] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有1个commandsSent，14futureCommands。
[20191210-11:24:42-285] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Allocation released for resources [Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:24:42-285] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Allocation released for resources [Point{id=26, name=Point-0027}, Path{id=91, name=Point-0026 --- Point-0027}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:24:42-285] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有1sendableCommands
[20191210-11:24:42-285] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:24:42-285] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@64480561
[20191210-11:24:42-285] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:24:42-286] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Path{id=93, name=Point-0028 --- Point-0029}, Point{id=28, name=Point-0029}]
[20191210-11:24:42-286] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Path{id=93, name=Point-0028 --- Point-0029}, Point{id=28, name=Point-0029}]
[20191210-11:24:42-286] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Path{id=93, name=Point-0028 --- Point-0029}, Point{id=28, name=Point-0029}]】...
[20191210-11:24:42-286] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@6b748a9e
[20191210-11:24:42-286] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器完成更新小车状态========
[20191210-11:24:42-287] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@6b748a9e
[20191210-11:24:42-287] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:24:42-287] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:24:42-287] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:24:42-287] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Path{id=93, name=Point-0028 --- Point-0029}, Point{id=28, name=Point-0029}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:24:42-288] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Path{id=93, name=Point-0028 --- Point-0029}, Point{id=28, name=Point-0029}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:24:42-288] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:24:42-288] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=93, name=Point-0028 --- Point-0029} for client Vehicle-01
[20191210-11:24:42-288] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=28, name=Point-0029} for client Vehicle-01
[20191210-11:24:42-288] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Path{id=93, name=Point-0028 --- Point-0029}, Point{id=28, name=Point-0029}]' successful, calling back client 'Vehicle-01'...
[20191210-11:24:42-289] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Path{id=93, name=Point-0028 --- Point-0029}, Point{id=28, name=Point-0029}]
[20191210-11:24:42-289] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:24:42-289] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:24:42-289] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:24:42-289] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0029, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]被加到指令队列中....
[20191210-11:24:42-289] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0029, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:24:42-290] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:24:42-290] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有2个commandsSent，13futureCommands。
[20191210-11:24:42-290] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有0sendableCommands
[20191210-11:24:42-290] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): Vehicle-01: Cannot send, number of sendable commands: 0



============================完成小车执行NextStep-驾驶单2-Step-2============================


============================完成小车执行NextStep-驾驶单2-Step-3-task-block============================

[20191210-11:26:51-656] FINE    Vehicle-01-commandDispatcher o.o.d.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask.runActualTask(): 【BasicVehicleCommAdapter】即将被下发移动指令[curCmd=MovementCommand{step=Point-0028, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]：sendCommand(curCmd)->getSentQueue().add(curCmd)->getProcessModel().commandSent(curCmd)
[20191210-11:26:51-738] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 当前所有sentQueue[MovementCommand{step=Point-0028, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]
[20191210-11:26:51-738] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): peek获取【已发送未执行队列sentQueue】中的的当前运行指令MovementCommand:MovementCommand{step=Point-0028, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:26:51-738] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processing MovementCommand...
[20191210-11:26:51-739] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始执行移动指令MovementCommand========
[20191210-11:26:51-839] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.02; s = 10.0; v_current = 0.0; v_target = 1000.0
[20191210-11:26:51-839] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 50000
[20191210-11:26:51-940] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.013333333333333334; s = 10.0; v_current = 500.0; v_target = 1000.0
[20191210-11:26:51-941] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 37500
[20191210-11:26:52-353] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=27, name=Point-0028}.
[20191210-11:26:52-353] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0028.
[20191210-11:26:52-355] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器已驱动小车执行移动指令MovementCommand.StepPoint-0028
[20191210-11:26:52-356] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器检查false需要执行MovementCommand.OperationNOP
[20191210-11:26:52-356] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processed MovementCommand.
[20191210-11:26:52-356] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器执行完成移动指令MovementCommand========
[20191210-11:26:52-356] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始更新小车状态：========
[20191210-11:26:52-356] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 如果【待执行SentQueue】 <= 1 && 【待发送CommandQueue】为空，置Vehicle.State.IDLE
[20191210-11:26:52-356] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): getSentQueue().poll()移除已经被执行掉的sentCmd
[20191210-11:26:52-357] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 告知小车模型指令MovementCommand{step=Point-0028, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}已被执行
[20191210-11:26:52-357] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Freeing resources: [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}]
[20191210-11:26:52-357] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.free()             : Vehicle-01: Releasing resources: [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}]
[20191210-11:26:52-357] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.ReservationPool.free()              : Vehicle-01: Releasing resources: [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}]
[20191210-11:26:52-357] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@7304a4ff
[20191210-11:26:52-357] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@5743c4f3
[20191210-11:26:52-358] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有1个commandsSent，13futureCommands。
[20191210-11:26:52-358] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有1sendableCommands
[20191210-11:26:52-358] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:26:52-358] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:26:52-358] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Point{id=33, name=Point-0035}, Path{id=94, name=Point-0029 --- Point-0035}]
[20191210-11:26:52-358] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Point{id=33, name=Point-0035}, Path{id=94, name=Point-0029 --- Point-0035}]
[20191210-11:26:52-358] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Point{id=33, name=Point-0035}, Path{id=94, name=Point-0029 --- Point-0035}]】...
[20191210-11:26:52-358] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@182c94ff
[20191210-11:26:52-358] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器完成更新小车状态========
[20191210-11:26:52-360] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@7304a4ff
[20191210-11:26:52-360] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Allocation released for resources [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:26:52-360] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Allocation released for resources [Point{id=30, name=Point-0032}, Path{id=92, name=Point-0027 --- Point-0032}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:26:52-360] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@5743c4f3
[20191210-11:26:52-360] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@182c94ff
[20191210-11:26:52-361] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:26:52-361] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:26:52-361] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:26:52-361] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Point{id=33, name=Point-0035}, Path{id=94, name=Point-0029 --- Point-0035}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:26:52-361] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Point{id=33, name=Point-0035}, Path{id=94, name=Point-0029 --- Point-0035}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:26:52-361] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:26:52-361] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=33, name=Point-0035} for client Vehicle-01
[20191210-11:26:52-361] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=94, name=Point-0029 --- Point-0035} for client Vehicle-01
[20191210-11:26:52-362] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Point{id=33, name=Point-0035}, Path{id=94, name=Point-0029 --- Point-0035}]' successful, calling back client 'Vehicle-01'...
[20191210-11:26:52-362] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Point{id=33, name=Point-0035}, Path{id=94, name=Point-0029 --- Point-0035}]
[20191210-11:26:52-362] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:26:52-362] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:26:52-362] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:26:52-362] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0035, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]被加到指令队列中....
[20191210-11:26:52-362] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0035, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:26:52-363] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:26:52-363] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有2个commandsSent，12futureCommands。
[20191210-11:26:52-363] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有0sendableCommands
[20191210-11:26:52-363] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): Vehicle-01: Cannot send, number of sendable commands: 0



============================完成小车执行NextStep-驾驶单2-Step-3-task-block============================


============================完成小车执行NextStep-驾驶单2-Step-4-release-block============================

[20191210-11:27:37-471] FINE    Vehicle-01-commandDispatcher o.o.d.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask.runActualTask(): 【BasicVehicleCommAdapter】即将被下发移动指令[curCmd=MovementCommand{step=Point-0029, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]：sendCommand(curCmd)->getSentQueue().add(curCmd)->getProcessModel().commandSent(curCmd)
[20191210-11:27:37-489] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 当前所有sentQueue[MovementCommand{step=Point-0029, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]
[20191210-11:27:37-489] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): peek获取【已发送未执行队列sentQueue】中的的当前运行指令MovementCommand:MovementCommand{step=Point-0029, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:27:37-489] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processing MovementCommand...
[20191210-11:27:37-489] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始执行移动指令MovementCommand========
[20191210-11:27:37-591] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.02; s = 10.0; v_current = 0.0; v_target = 1000.0
[20191210-11:27:37-591] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 50000
[20191210-11:27:37-695] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.013333333333333334; s = 10.0; v_current = 500.0; v_target = 1000.0
[20191210-11:27:37-695] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 37500
[20191210-11:27:38-107] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=28, name=Point-0029}.
[20191210-11:27:38-108] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0029.
[20191210-11:27:38-110] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器已驱动小车执行移动指令MovementCommand.StepPoint-0029
[20191210-11:27:38-110] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器检查false需要执行MovementCommand.OperationNOP
[20191210-11:27:38-110] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processed MovementCommand.
[20191210-11:27:38-110] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器执行完成移动指令MovementCommand========
[20191210-11:27:38-111] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始更新小车状态：========
[20191210-11:27:38-111] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 如果【待执行SentQueue】 <= 1 && 【待发送CommandQueue】为空，置Vehicle.State.IDLE
[20191210-11:27:38-111] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): getSentQueue().poll()移除已经被执行掉的sentCmd
[20191210-11:27:38-111] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 告知小车模型指令MovementCommand{step=Point-0029, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}已被执行
[20191210-11:27:38-111] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Freeing resources: [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}]
[20191210-11:27:38-111] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.free()             : Vehicle-01: Releasing resources: [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}]
[20191210-11:27:38-111] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.ReservationPool.free()              : Vehicle-01: Releasing resources: [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}]
[20191210-11:27:38-111] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@22a68391
[20191210-11:27:38-112] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@6b8baf6a
[20191210-11:27:38-112] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@22a68391
[20191210-11:27:38-112] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有1个commandsSent，12futureCommands。
[20191210-11:27:38-112] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Allocation released for resources [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:27:38-112] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有1sendableCommands
[20191210-11:27:38-112] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Allocation released for resources [Path{id=96, name=Point-0032 --- Point-0028}, Point{id=27, name=Point-0028}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:27:38-112] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand发现可以为当前小车Vehicle-01下发移动指令
[20191210-11:27:38-112] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】即将为Vehicle-01的下一个移动指令分配资源
[20191210-11:27:38-112] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@6b8baf6a
[20191210-11:27:38-112] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): Vehicle-01: Allocating resources: [Path{id=100, name=Point-0035 --- Point-0036}, Point{id=34, name=Point-0036}]
[20191210-11:27:38-112] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.allocateForNextCommand(): 【DefaultVehicleController.allocateForNextCommand】小车Vehicle-01: 所需资源有: [Path{id=100, name=Point-0035 --- Point-0036}, Point{id=34, name=Point-0036}]
[20191210-11:27:38-112] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.allocate()         : 【DefaultScheduler.allocate】Scheduler提交资源分配任务，kernelExecutor将在异步线程中为客户分配资源【Vehicle-01】-->【[Path{id=100, name=Point-0035 --- Point-0036}, Point{id=34, name=Point-0036}]】...
[20191210-11:27:38-113] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@177c5588
[20191210-11:27:38-113] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器完成更新小车状态========
[20191210-11:27:38-113] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$Allocate@177c5588
[20191210-11:27:38-113] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking resource if all resources are available:
[20191210-11:27:38-113] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Checking if resources may be allocated...
[20191210-11:27:38-113] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: Some resources need to be prepared for allocation.
[20191210-11:27:38-113] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Preparing allocation for resources [Path{id=100, name=Point-0035 --- Point-0036}, Point{id=34, name=Point-0036}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:27:38-113] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.prepareAllocation(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Preparing allocation for resources [Path{id=100, name=Point-0035 --- Point-0036}, Point{id=34, name=Point-0036}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:27:38-113] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.tryAllocate()         : Vehicle-01: All resources available, allocating...
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Path{id=100, name=Point-0035 --- Point-0036} for client Vehicle-01
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.s.b.scheduling.ReservationEntry.allocate()         : Allocating resource Point{id=34, name=Point-0036} for client Vehicle-01
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.checkAllocationsPrepared(): Preparation of resources '[Path{id=100, name=Point-0035 --- Point-0036}, Point{id=34, name=Point-0036}]' successful, calling back client 'Vehicle-01'...
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】前一次请求的资源分配成功，进入回调告知客户端(小车),并执行回调后处理！Vehicle-01 <-- [Path{id=100, name=Point-0035 --- Point-0036}, Point{id=34, name=Point-0036}]
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实所分配的与当前缓存的pendingResources，pendingCommand对应
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】核实成功。下面开始给CommAdapter下发移动指令(指令[所需资源]已经由[scheduler]预留[归本小车占用]的资源)。
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 给CommAdapter下发移动指令:commAdapter.enqueueCommand(command)，另外Controller本身记录自己的commandsSent.add(command);
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : 【BasicVehicleCommAdapter.enqueueCommand】新的移动指令[MovementCommand{step=Point-0036, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]被加到指令队列中....
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.d.vehicle.BasicVehicleCommAdapter.enqueueCommand() : Vehicle-01: Adding command: MovementCommand{step=Point-0036, operation=NOP, opLocation=null, finalMovement=false, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.allocationSuccessful(): 【DefaultVehicleController.allocationSuccessful】CommAdapter移动指令下发完成。下面执行waitingForAllocation=false(因为上一次资源分配已完成)，及下一次移动指令所需资源请求分配canSendNextCommand -> allocateForNextCommand
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand执行判断，当前小车的commandQueueCapacity为2个，已有2个commandsSent，11futureCommands。
[20191210-11:27:38-114] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): DefaultVehicleController.canSendNextCommand得知，当前小车有0sendableCommands
[20191210-11:27:38-115] FINE    kernelExecutor       o.o.k.vehicles.DefaultVehicleController.canSendNextCommand(): Vehicle-01: Cannot send, number of sendable commands: 0



============================完成小车执行NextStep-驾驶单2-Step-4-release-block============================


============================开始小车执行NextStep-驾驶单2-前1步============================

[20191210-11:29:20-026] FINE    Vehicle-01-commandDispatcher o.o.d.vehicle.BasicVehicleCommAdapter$CommandDispatcherTask.runActualTask(): 【BasicVehicleCommAdapter】即将被下发移动指令[curCmd=MovementCommand{step=Point-0021, operation=Unload cargo, opLocation=Location{id=131, name=Goods out 02}, finalMovement=true, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]：sendCommand(curCmd)->getSentQueue().add(curCmd)->getProcessModel().commandSent(curCmd)
[20191210-11:29:20-066] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 当前所有sentQueue[MovementCommand{step=Point-0021, operation=Unload cargo, opLocation=Location{id=131, name=Goods out 02}, finalMovement=true, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}]
[20191210-11:29:20-066] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): peek获取【已发送未执行队列sentQueue】中的的当前运行指令MovementCommand:MovementCommand{step=Point-0021, operation=Unload cargo, opLocation=Location{id=131, name=Goods out 02}, finalMovement=true, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}
[20191210-11:29:20-066] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processing MovementCommand...
[20191210-11:29:20-066] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始执行移动指令MovementCommand========
[20191210-11:29:20-167] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.02; s = 10.0; v_current = 0.0; v_target = 1000.0
[20191210-11:29:20-167] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 50000
[20191210-11:29:20-271] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): t = 0.013333333333333334; s = 10.0; v_current = 500.0; v_target = 1000.0
[20191210-11:29:20-272] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.VelocityController.suitableAcceleration(): result = 37500
[20191210-11:29:20-883] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): Vehicle TCSObjectReference{referentClass=class org.opentcs.data.model.Vehicle, id=123, name=Vehicle-01} has reached point TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=20, name=Point-0021}.
[20191210-11:29:20-883] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehiclePosition(): 小车 Vehicle-01 位置发生变化，已经到达 Point-0021.
[20191210-11:29:20-884] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器已驱动小车执行移动指令MovementCommand.StepPoint-0021
[20191210-11:29:20-884] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 适配器检查true需要执行MovementCommand.OperationUnload cargo
[20191210-11:29:20-884] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.simulateOperation(): Operating...
[20191210-11:29:21-389] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): Processed MovementCommand.
[20191210-11:29:21-389] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器执行完成移动指令MovementCommand========
[20191210-11:29:21-389] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器开始更新小车状态：========
[20191210-11:29:21-389] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 如果【待执行SentQueue】 <= 1 && 【待发送CommandQueue】为空，置Vehicle.State.IDLE
[20191210-11:29:21-389] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): getSentQueue().poll()移除已经被执行掉的sentCmd
[20191210-11:29:21-389] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): 告知小车模型指令MovementCommand{step=Point-0021, operation=Unload cargo, opLocation=Location{id=131, name=Goods out 02}, finalMovement=true, finalDestination=Point{id=20, name=Point-0021}, finalDestinationLocation=Location{id=131, name=Goods out 02}, finalOperation=Unload cargo, properties={}}已被执行
[20191210-11:29:21-390] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Freeing resources: [Point{id=19, name=Point-0020}, Path{id=79, name=Point-0017 --- Point-0020}]
[20191210-11:29:21-390] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.DefaultScheduler.free()             : Vehicle-01: Releasing resources: [Point{id=19, name=Point-0020}, Path{id=79, name=Point-0017 --- Point-0020}]
[20191210-11:29:21-390] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.ReservationPool.free()              : Vehicle-01: Releasing resources: [Point{id=19, name=Point-0020}, Path{id=79, name=Point-0017 --- Point-0020}]
[20191210-11:29:21-390] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@3a4f39fd
[20191210-11:29:21-390] FINE    Vehicle-01-simulationTask o.o.s.b.scheduling.AllocatorTask.<init>()              : 【AllocatorTask】有新的资源分配计划将被创建，创建命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@6c0d8229
[20191210-11:29:21-390] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$AllocationsReleased@3a4f39fd
[20191210-11:29:21-390] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: No more commands in current drive order
[20191210-11:29:21-390] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SingleVehicleBlockModule@58594a11: Allocation released for resources [Point{id=19, name=Point-0020}, Path{id=79, name=Point-0017 --- Point-0020}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:29:21-390] FINE    Vehicle-01-simulationTask o.o.k.vehicles.DefaultVehicleController.commandExecuted(): Vehicle-01: Current drive order processed
[20191210-11:29:21-390] FINE    kernelExecutor       o.o.s.b.scheduling.AllocationAdvisor.allocationReleased(): Module org.opentcs.strategies.basic.scheduling.modules.SameDirectionBlockModule@2a3888c1: Allocation released for resources [Point{id=19, name=Point-0020}, Path{id=79, name=Point-0017 --- Point-0020}] for client DefaultVehicleController{vehicleName=Vehicle-01}.
[20191210-11:29:21-390] FINE    Vehicle-01-simulationTask o.o.k.services.StandardVehicleService.updateVehicleProcState(): Updating procState of vehicle Vehicle-01 to AWAITING_ORDER...
[20191210-11:29:21-391] FINE    kernelExecutor       o.o.s.b.scheduling.AllocatorTask.run()                 : 【AllocatorTask】有新的资源分配计划将被执行，执行的命令AllocatorCommand为org.opentcs.strategies.basic.scheduling.AllocatorCommand$RetryAllocates@6c0d8229
[20191210-11:29:21-391] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): 【ImplicitDispatchTrigger】::: 监听到小车信息变更事件，并且小车满足可调度条件
[20191210-11:29:21-391] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): 【ImplicitDispatchTrigger】::: 触发dispatcher.dispatch()方法，执行全局调度操作
[20191210-11:29:21-391] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): Dispatching for Vehicle{name=Vehicle-01, procState=AWAITING_ORDER, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=20, name=Point-0021}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[LoadHandlingDevice{label=default, full=false}], length=1000, adapterState=CONNECTED, transportOrder=TCSObjectReference{referentClass=class org.opentcs.data.order.TransportOrder, id=146, name=TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3}, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}...
[20191210-11:29:21-391] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : 【DefaultDispatcher】:::全局调度器DefaultDispatcher.dispatch调用开始
[20191210-11:29:21-391] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : Scheduling dispatch task...
[20191210-11:29:21-391] FINE    Vehicle-01-simulationTask o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : 【DefaultDispatcher】:::全局调度器DefaultDispatcher.dispatch调用结束
[20191210-11:29:21-391] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : ==============开始 FullDispatchTask.run ==============
[20191210-11:29:21-391] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 触发调度器的FullDispatchTask，执行任务分配：：：
[20191210-11:29:21-391] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : Starting full dispatch run...
[20191210-11:29:21-391] FINE    Vehicle-01-simulationTask o.o.virtualvehicle.LoopbackCommunicationAdapter$VehicleSimulationTask.runActualTask(): =========适配器完成更新小车状态========
[20191210-11:29:21-392] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 1、检查RAW状态的订单，调整为: UNROUTABLE(router判定无法路由), ACTIVE（可路由）, DISPATCHABLE(没有其他未完成的依赖任务)
[20191210-11:29:21-392] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 2、处理AWAITING_ORDER的小车。如果小车身上存在WITHDRAWN的运单，则将小车(是否需要disable,需要则UNAVAILABLE否则IDLE)及运单状态(fail)做相应调整
[20191210-11:29:21-392] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 3、分配下一个DriveOrder给AWAITING_ORDER的小车。checkForNextDriveOrder根据小车身上的TransportOrder.getCurrentDriveOrder()判断小车当前运单完成情况及是否需要分配下一个DriveOrder
[20191210-11:29:21-392] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignNextDriveOrdersPhase.checkForNextDriveOrder(): Vehicle 'Vehicle-01' finished a drive order.
[20191210-11:29:21-392] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignNextDriveOrdersPhase.checkForNextDriveOrder(): Vehicle 'Vehicle-01' finished transport order 'TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3'
[20191210-11:29:21-392] INFO    kernelExecutor       o.o.s.b.dispatching.TransportOrderUtil.updateTransportOrderState(): Updating state of transport order TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3 to FINISHED...
[20191210-11:29:21-393] FINE    kernelExecutor       o.o.k.services.StandardVehicleService.updateVehicleProcState(): Updating procState of vehicle Vehicle-01 to IDLE...
[20191210-11:29:21-393] FINE    kernelExecutor       o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): 【ImplicitDispatchTrigger】::: 监听到小车信息变更事件，并且小车满足可调度条件
[20191210-11:29:21-393] FINE    kernelExecutor       o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): 【ImplicitDispatchTrigger】::: 触发dispatcher.dispatch()方法，执行全局调度操作
[20191210-11:29:21-393] FINE    kernelExecutor       o.o.s.b.dispatching.ImplicitDispatchTrigger.checkVehicleChange(): Dispatching for Vehicle{name=Vehicle-01, procState=IDLE, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=20, name=Point-0021}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[LoadHandlingDevice{label=default, full=false}], length=1000, adapterState=CONNECTED, transportOrder=TCSObjectReference{referentClass=class org.opentcs.data.order.TransportOrder, id=146, name=TOrder-01DVPX3Y8PNKTM0RM9JZ4ZFTS3}, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}...
[20191210-11:29:21-393] FINE    kernelExecutor       o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : 【DefaultDispatcher】:::全局调度器DefaultDispatcher.dispatch调用开始
[20191210-11:29:21-393] FINE    kernelExecutor       o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : Scheduling dispatch task...
[20191210-11:29:21-394] FINE    kernelExecutor       o.o.s.b.dispatching.DefaultDispatcher.dispatch()       : 【DefaultDispatcher】:::全局调度器DefaultDispatcher.dispatch调用结束
[20191210-11:29:21-395] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 4、根据order sequences分配下一个运单给小车。Assigns vehicles to the next transport orders in their respective order sequences, if any.
[20191210-11:29:21-396] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 5、分配订单给小车，首先分配已预订的订单，然后分配自由订单。Assignment of orders to vehicles.Default: Assigns reserved and then free orders to vehicles.
[20191210-11:29:21-396] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.assignOrders()    : 5.1、分配已被预定的订单给小车。Assigns reserved transport orders (if any) to vehicles that have just finished their withdrawn ones.
[20191210-11:29:21-396] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.assignOrders()    : 5.2、分配订单给当前没有renew任务的小车。Assigns transport orders to vehicles that are currently not processing any and are not bound to any order sequences.
[20191210-11:29:21-396] FINE    kernelExecutor       o.o.s.b.d.s.vehicles.IsAvailableForAnyOrder.test()     : 检查Vehicle-01小车是否可用(TO_BE_UTILIZED && 当前点位不为空&&没有OrderSequence&&电量部位紧急状态&&不需要继续充电(对于正在充电的小车)&&【不在处理订单||正在处理的订单可有可无DispensableOrder】)&&未被其他订单预定
[20191210-11:29:21-397] FINE    kernelExecutor       o.o.s.b.d.s.vehicles.CompositeVehicleSelectionFilter.apply(): 【CompositeVehicleSelectionFilter组合过滤器】对Vehicle-01执行过滤条件[]
[20191210-11:29:21-397] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsAvailableForAnyOrder.CompositeVehicleSelectionFilter(组合过滤器默认为空)】做完小车过滤，过滤结果:Map<Boolean, List<VehicleFilterResult>> = {false=[], true=[org.opentcs.strategies.basic.dispatching.phase.VehicleFilterResult@1e9a439c]}
[20191210-11:29:21-397] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.vehiclesSplitByFilter.collect】收集过滤结果，获取到availableVehicles:[Vehicle{name=Vehicle-01, procState=IDLE, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=20, name=Point-0021}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[LoadHandlingDevice{label=default, full=false}], length=1000, adapterState=CONNECTED, transportOrder=null, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}]
[20191210-11:29:21-397] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsAvailableForAnyOrder.CompositeVehicleSelectionFilter(组合过滤器默认为空)】做完小车过滤，获取到availableVehicles:[Vehicle{name=Vehicle-01, procState=IDLE, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=20, name=Point-0021}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[LoadHandlingDevice{label=default, full=false}], length=1000, adapterState=CONNECTED, transportOrder=null, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}]
[20191210-11:29:21-398] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsFreelyDispatchableToAnyVehicle.CompositeTransportOrderSelectionFilter(组合过滤器默认为空)】做完订单过滤，过滤结果:Map<Boolean, List<OrderFilterResult>> = {false=[], true=[]}
[20191210-11:29:21-398] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run】做完订单过滤，获取到availableOrders:[]
[20191210-11:29:21-398] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run】开始执行分配tryAssignments
[20191210-11:29:21-398] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignments(): Available for dispatching: 0 transport orders and 1 vehicles.
[20191210-11:29:21-398] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignments(): 【AssignFreeOrderPhase.run.tryAssignments】[可用的小车数量]>[可分配自由订单数量]的情况下:所有[可分配自由订单]->小车排序->tryAssignVehicle
[20191210-11:29:21-398] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 6、Recharging of vehicles.Default: Sends idle vehicles with a degraded energy level to recharge locations.
[20191210-11:29:21-398] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.rechargeVehicles(): 6.1、新建充电订单给Creates recharging orders for any vehicles with a degraded energy level.
[20191210-11:29:21-398] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 7、Parking of vehicles.Default: Sends idle vehicles to parking positions.
[20191210-11:29:21-398] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.1、Creates parking orders for idle vehicles already at a parking position to send them to higher prioritized parking positions.
[20191210-11:29:21-399] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.2、Creates parking orders for idle vehicles not already at a parking position considering only prioritized parking positions.
[20191210-11:29:21-399] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.3、Creates parking orders for idle vehicles not already at a parking position considering all parking positions.
[20191210-11:29:21-399] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : Finished full dispatch run.
[20191210-11:29:21-399] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : ==============结束 FullDispatchTask.run ==============
[20191210-11:29:21-399] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : ==============开始 FullDispatchTask.run ==============
[20191210-11:29:21-399] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 触发调度器的FullDispatchTask，执行任务分配：：：
[20191210-11:29:21-399] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : Starting full dispatch run...
[20191210-11:29:21-399] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 1、检查RAW状态的订单，调整为: UNROUTABLE(router判定无法路由), ACTIVE（可路由）, DISPATCHABLE(没有其他未完成的依赖任务)
[20191210-11:29:21-399] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 2、处理AWAITING_ORDER的小车。如果小车身上存在WITHDRAWN的运单，则将小车(是否需要disable,需要则UNAVAILABLE否则IDLE)及运单状态(fail)做相应调整
[20191210-11:29:21-400] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 3、分配下一个DriveOrder给AWAITING_ORDER的小车。checkForNextDriveOrder根据小车身上的TransportOrder.getCurrentDriveOrder()判断小车当前运单完成情况及是否需要分配下一个DriveOrder
[20191210-11:29:21-400] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 4、根据order sequences分配下一个运单给小车。Assigns vehicles to the next transport orders in their respective order sequences, if any.
[20191210-11:29:21-400] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 5、分配订单给小车，首先分配已预订的订单，然后分配自由订单。Assignment of orders to vehicles.Default: Assigns reserved and then free orders to vehicles.
[20191210-11:29:21-400] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.assignOrders()    : 5.1、分配已被预定的订单给小车。Assigns reserved transport orders (if any) to vehicles that have just finished their withdrawn ones.
[20191210-11:29:21-400] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.assignOrders()    : 5.2、分配订单给当前没有renew任务的小车。Assigns transport orders to vehicles that are currently not processing any and are not bound to any order sequences.
[20191210-11:29:21-400] FINE    kernelExecutor       o.o.s.b.d.s.vehicles.IsAvailableForAnyOrder.test()     : 检查Vehicle-01小车是否可用(TO_BE_UTILIZED && 当前点位不为空&&没有OrderSequence&&电量部位紧急状态&&不需要继续充电(对于正在充电的小车)&&【不在处理订单||正在处理的订单可有可无DispensableOrder】)&&未被其他订单预定
[20191210-11:29:21-400] FINE    kernelExecutor       o.o.s.b.d.s.vehicles.CompositeVehicleSelectionFilter.apply(): 【CompositeVehicleSelectionFilter组合过滤器】对Vehicle-01执行过滤条件[]
[20191210-11:29:21-400] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsAvailableForAnyOrder.CompositeVehicleSelectionFilter(组合过滤器默认为空)】做完小车过滤，过滤结果:Map<Boolean, List<VehicleFilterResult>> = {false=[], true=[org.opentcs.strategies.basic.dispatching.phase.VehicleFilterResult@11d3eda5]}
[20191210-11:29:21-400] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.vehiclesSplitByFilter.collect】收集过滤结果，获取到availableVehicles:[Vehicle{name=Vehicle-01, procState=IDLE, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=20, name=Point-0021}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[LoadHandlingDevice{label=default, full=false}], length=1000, adapterState=CONNECTED, transportOrder=null, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}]
[20191210-11:29:21-400] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsAvailableForAnyOrder.CompositeVehicleSelectionFilter(组合过滤器默认为空)】做完小车过滤，获取到availableVehicles:[Vehicle{name=Vehicle-01, procState=IDLE, integrationLevel=TO_BE_UTILIZED, state=IDLE, energyLevel=100, currentPosition=TCSObjectReference{referentClass=class org.opentcs.data.model.Point, id=20, name=Point-0021}, precisePosition=null, orientationAngle=NaN, nextPosition=null, loadHandlingDevices=[LoadHandlingDevice{label=default, full=false}], length=1000, adapterState=CONNECTED, transportOrder=null, routeProgressIndex=-1, orderSequence=null, energyLevelGood=90, energyLevelCritical=30, energyLevelFullyRecharged=95, energyLevelSufficientlyRecharged=45, maxVelocity=100000, maxReverseVelocity=100000, rechargeOperation=CHARGE, processableCategories=[*]}]
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run.IsFreelyDispatchableToAnyVehicle.CompositeTransportOrderSelectionFilter(组合过滤器默认为空)】做完订单过滤，过滤结果:Map<Boolean, List<OrderFilterResult>> = {false=[], true=[]}
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run】做完订单过滤，获取到availableOrders:[]
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.run()     : 【AssignFreeOrdersPhase.run】开始执行分配tryAssignments
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignments(): Available for dispatching: 0 transport orders and 1 vehicles.
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.d.p.assignment.AssignFreeOrdersPhase.tryAssignments(): 【AssignFreeOrderPhase.run.tryAssignments】[可用的小车数量]>[可分配自由订单数量]的情况下:所有[可分配自由订单]->小车排序->tryAssignVehicle
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 6、Recharging of vehicles.Default: Sends idle vehicles with a degraded energy level to recharge locations.
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.rechargeVehicles(): 6.1、新建充电订单给Creates recharging orders for any vehicles with a degraded energy level.
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : 7、Parking of vehicles.Default: Sends idle vehicles to parking positions.
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.1、Creates parking orders for idle vehicles already at a parking position to send them to higher prioritized parking positions.
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.2、Creates parking orders for idle vehicles not already at a parking position considering only prioritized parking positions.
[20191210-11:29:21-401] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.parkVehicles()    : 7.3、Creates parking orders for idle vehicles not already at a parking position considering all parking positions.
[20191210-11:29:21-402] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : Finished full dispatch run.
[20191210-11:29:21-402] FINE    kernelExecutor       o.o.s.b.dispatching.FullDispatchTask.run()             : ==============结束 FullDispatchTask.run ==============

============================完成小车执行NextStep-驾驶单2-前1步============================







